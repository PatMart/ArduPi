/**
 * File generated by the ThingML IDE
 * /!\Do not edit this file/!\
 * In case of a bug in the generated code,
 * please submit an issue on our GitHub
 **/

package org.thingml.generated.kevoree;
import org.thingml.generated.*;
import org.kevoree.annotation.*;
import org.thingml.java.*;
import org.thingml.java.ext.*;


@ComponentType
 @Library(name = "ThingML")
 public class KTimerJava extends TimerJava{//The Kevoree wrapper extends the associated ThingML component
//Attributes
//Getters and Setters for non readonly/final attributes
@Output
private org.kevoree.api.Port timerPort_out;
//Empty Constructor
public KTimerJava() {
super();//binding internal connectors we do not want to expose to Kevoree
}

//Constructor (all attributes)
public KTimerJava(String name, final java.util.Timer TimerJava_javaTimer__var, final java.util.TimerTask TimerJava_javaTimerTask__var) {
super(name, TimerJava_javaTimer__var, TimerJava_javaTimerTask__var);
}

@Override
public void start() {
queue = new java.util.concurrent.ArrayBlockingQueue<Event>(1024);
super.start();
}

@Override
public void stop() {
super.stop();
queue = null;
}

@Override
public void receive(Event event, Port p) {
if (queue != null) {
super.receive(event, p);
}
}

@Start
public void startComponent() {
if (behavior == null){
buildBehavior();
}
start();
}

@Stop
public void stopComponent() {stop();
}

@Override
public void send(Event e, Port p) {
if (p.getName().equals("timer")) {
timerPort_out.send(e);
}
else {//Internal channel managed by ThingML
super.send(e, p);
}
}

@Input
public void timerPort(Object o) {
receive((Event)o, getTimer_port());
}

}

