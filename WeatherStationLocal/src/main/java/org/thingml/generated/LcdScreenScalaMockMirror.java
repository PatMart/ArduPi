/**
 * File generated by the ThingML IDE
 * /!\Do not edit this file/!\
 * In case of a bug in the generated code,
 * please submit an issue on our GitHub
 **/

package org.thingml.generated;
import org.sintef.smac.*;
import java.awt.Color;
import java.awt.Dimension;
import java.awt.GridBagConstraints;
import java.awt.GridBagLayout;
import java.awt.Insets;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.Arrays;
import java.util.Date;
import java.util.HashMap;
import java.util.Map;
import javax.swing.JButton;
import javax.swing.JComboBox;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTabbedPane;
import javax.swing.JTextField;
import javax.swing.JTextPane;
import javax.swing.text.BadLocationException;
import javax.swing.text.Style;
import javax.swing.text.StyleConstants;
import javax.swing.text.StyleContext;
import javax.swing.text.StyledDocument;
import java.text.SimpleDateFormat;
import scala.collection.immutable.$colon$colon;

public class LcdScreenScalaMockMirror extends ReactiveComponent implements ActionListener {

@Override
public void onIncomingMessage(SignedEvent e) {
print(e.event().name() + "_via_" + e.port().name(), dateFormat.format(new Date()) + ": " + e.event().toString());
}
Port port_LcdScreenScala_Display = null;

java.util.List<LcdScreenScalaListenerMirror> listeners = new java.util.LinkedList<LcdScreenScalaListenerMirror>();

public LcdScreenScalaMockMirror(){
scala.collection.immutable.List<String> rec = null;
scala.collection.immutable.List<String> sent = null;
rec = scala.collection.immutable.List$.MODULE$.empty();
sent = scala.collection.immutable.List$.MODULE$.empty();
sent = new $colon$colon("initDisplay", sent);
sent = new $colon$colon("refreshDisplay", sent);
sent = new $colon$colon("setDisplay", sent);
rec = new $colon$colon("currentDisplay", sent);
port_LcdScreenScala_Display = (Port) new Port("Display", rec, sent, this).start();
init();}

private SimpleDateFormat dateFormat = new SimpleDateFormat("dd MMM yyy 'at' HH:mm:ss.SSS");private JTabbedPane tabbedPane = new JTabbedPane();
private JFrame frame;
private JPanel frame_Display;
private JTextPane screen;
private JButton clearButton;
private StyledDocument doc;

//Attributes related to initDisplay via Display
public JButton sendinitDisplay_via_Display;
private JTextField fieldinitDisplay_via_Display_Id;
private JTextField fieldinitDisplay_via_Display_Title;
private JTextField fieldinitDisplay_via_Display_Unit;
private JTextField fieldinitDisplay_via_Display_InitValue;
private JTextField fieldinitDisplay_via_Display_MinValue;
private JTextField fieldinitDisplay_via_Display_MaxValue;
public JButton getSendinitDisplay_via_Display() {
return sendinitDisplay_via_Display;
}

public JTextField getFieldinitDisplay_via_Display_Id() {
return fieldinitDisplay_via_Display_Id;
}

public JTextField getFieldinitDisplay_via_Display_Title() {
return fieldinitDisplay_via_Display_Title;
}

public JTextField getFieldinitDisplay_via_Display_Unit() {
return fieldinitDisplay_via_Display_Unit;
}

public JTextField getFieldinitDisplay_via_Display_InitValue() {
return fieldinitDisplay_via_Display_InitValue;
}

public JTextField getFieldinitDisplay_via_Display_MinValue() {
return fieldinitDisplay_via_Display_MinValue;
}

public JTextField getFieldinitDisplay_via_Display_MaxValue() {
return fieldinitDisplay_via_Display_MaxValue;
}

//Attributes related to refreshDisplay via Display
public JButton sendrefreshDisplay_via_Display;
private JTextField fieldrefreshDisplay_via_Display_Id;
private JTextField fieldrefreshDisplay_via_Display_Value;
public JButton getSendrefreshDisplay_via_Display() {
return sendrefreshDisplay_via_Display;
}

public JTextField getFieldrefreshDisplay_via_Display_Id() {
return fieldrefreshDisplay_via_Display_Id;
}

public JTextField getFieldrefreshDisplay_via_Display_Value() {
return fieldrefreshDisplay_via_Display_Value;
}

//Attributes related to setDisplay via Display
public JButton sendsetDisplay_via_Display;
private JTextField fieldsetDisplay_via_Display_Id;
public JButton getSendsetDisplay_via_Display() {
return sendsetDisplay_via_Display;
}

public JTextField getFieldsetDisplay_via_Display_Id() {
return fieldsetDisplay_via_Display_Id;
}

public void disableAll() {
sendinitDisplay_via_Display.setEnabled(false);
sendrefreshDisplay_via_Display.setEnabled(false);
sendsetDisplay_via_Display.setEnabled(false);
}

public void enableAll() {
sendinitDisplay_via_Display.setEnabled(true);
sendrefreshDisplay_via_Display.setEnabled(true);
sendsetDisplay_via_Display.setEnabled(true);
}

public void print(String id, String data){
try {
doc.insertString(doc.getLength(), formatForPrint(data), doc.getStyle("receive"+id+"Style"));
screen.setCaretPosition(doc.getLength());
} catch (BadLocationException ex) {
ex.printStackTrace();
}
}

public void addListener(ActionListener l){
sendinitDisplay_via_Display.addActionListener(l);
sendrefreshDisplay_via_Display.addActionListener(l);
sendsetDisplay_via_Display.addActionListener(l);
}

private void init(){
GridBagConstraints c = new GridBagConstraints();
c.gridwidth = 1;
c.fill = GridBagConstraints.HORIZONTAL;
c.insets = new Insets(0,3,0,3);
clearButton = new JButton("Clear Console");
c.gridy = 0;
c.gridx = 0;
frame = new JFrame("LcdScreenScala Mock Simulator");
frame.setLayout(new GridBagLayout());
frame.add(tabbedPane, c);
frame_Display = new JPanel();
frame_Display.setLayout(new GridBagLayout());
//GUI related to Display_via_Display => initDisplay
c.gridy = 0;
c.gridx = 0;
frame_Display.add(createLabel("initDisplay"), c);
c.gridy = 1;
c.gridx = 0;
frame_Display.add(createinitDisplay_via_DisplayPanel(), c);
c.gridy = 2;
c.gridx = 0;
sendinitDisplay_via_Display = createSendButton("Display => initDisplay");
frame_Display.add(sendinitDisplay_via_Display, c);
tabbedPane.addTab("Display", frame_Display);
//GUI related to Display_via_Display => refreshDisplay
c.gridy = 0;
c.gridx = 1;
frame_Display.add(createLabel("refreshDisplay"), c);
c.gridy = 1;
c.gridx = 1;
frame_Display.add(createrefreshDisplay_via_DisplayPanel(), c);
c.gridy = 2;
c.gridx = 1;
sendrefreshDisplay_via_Display = createSendButton("Display => refreshDisplay");
frame_Display.add(sendrefreshDisplay_via_Display, c);
tabbedPane.addTab("Display", frame_Display);
//GUI related to Display_via_Display => setDisplay
c.gridy = 0;
c.gridx = 2;
frame_Display.add(createLabel("setDisplay"), c);
c.gridy = 1;
c.gridx = 2;
frame_Display.add(createsetDisplay_via_DisplayPanel(), c);
c.gridy = 2;
c.gridx = 2;
sendsetDisplay_via_Display = createSendButton("Display => setDisplay");
frame_Display.add(sendsetDisplay_via_Display, c);
tabbedPane.addTab("Display", frame_Display);
c.gridy = 1;
c.gridx = 0;
c.gridwidth = 1;
frame.add(createJTextPane(), c);
c.gridy = 2;
frame.add(clearButton, c);
frame.pack();
clearButton.addActionListener(this);
addListener(this);
frame.setVisible(true);
}

public static JLabel createLabel(String name){
return new JLabel(name);
}

public static JButton createSendButton(String name){
return new JButton("send");
}

public JPanel createinitDisplay_via_DisplayPanel(){
GridBagConstraints c = new GridBagConstraints();
c.fill = GridBagConstraints.HORIZONTAL;
c.weightx = 0.5;
JPanel panel = new JPanel(new GridBagLayout());
JLabel labelid = new JLabel();
labelid.setText("id");
c.gridx = 0;
c.gridy = 0;
panel.add(labelid, c);
fieldinitDisplay_via_Display_Id = new JTextField();
fieldinitDisplay_via_Display_Id.setText("id");
c.gridx = 1;
c.gridy = 0
;panel.add(fieldinitDisplay_via_Display_Id, c);
JLabel labeltitle = new JLabel();
labeltitle.setText("title");
c.gridx = 0;
c.gridy = 1;
panel.add(labeltitle, c);
fieldinitDisplay_via_Display_Title = new JTextField();
fieldinitDisplay_via_Display_Title.setText("title");
c.gridx = 1;
c.gridy = 1
;panel.add(fieldinitDisplay_via_Display_Title, c);
JLabel labelunit = new JLabel();
labelunit.setText("unit");
c.gridx = 0;
c.gridy = 2;
panel.add(labelunit, c);
fieldinitDisplay_via_Display_Unit = new JTextField();
fieldinitDisplay_via_Display_Unit.setText("unit");
c.gridx = 1;
c.gridy = 2
;panel.add(fieldinitDisplay_via_Display_Unit, c);
JLabel labelinitValue = new JLabel();
labelinitValue.setText("initValue");
c.gridx = 0;
c.gridy = 3;
panel.add(labelinitValue, c);
fieldinitDisplay_via_Display_InitValue = new JTextField();
fieldinitDisplay_via_Display_InitValue.setText("initValue");
c.gridx = 1;
c.gridy = 3
;panel.add(fieldinitDisplay_via_Display_InitValue, c);
JLabel labelminValue = new JLabel();
labelminValue.setText("minValue");
c.gridx = 0;
c.gridy = 4;
panel.add(labelminValue, c);
fieldinitDisplay_via_Display_MinValue = new JTextField();
fieldinitDisplay_via_Display_MinValue.setText("minValue");
c.gridx = 1;
c.gridy = 4
;panel.add(fieldinitDisplay_via_Display_MinValue, c);
JLabel labelmaxValue = new JLabel();
labelmaxValue.setText("maxValue");
c.gridx = 0;
c.gridy = 5;
panel.add(labelmaxValue, c);
fieldinitDisplay_via_Display_MaxValue = new JTextField();
fieldinitDisplay_via_Display_MaxValue.setText("maxValue");
c.gridx = 1;
c.gridy = 5
;panel.add(fieldinitDisplay_via_Display_MaxValue, c);
return panel;
}

public JPanel createrefreshDisplay_via_DisplayPanel(){
GridBagConstraints c = new GridBagConstraints();
c.fill = GridBagConstraints.HORIZONTAL;
c.weightx = 0.5;
JPanel panel = new JPanel(new GridBagLayout());
JLabel labelid = new JLabel();
labelid.setText("id");
c.gridx = 0;
c.gridy = 0;
panel.add(labelid, c);
fieldrefreshDisplay_via_Display_Id = new JTextField();
fieldrefreshDisplay_via_Display_Id.setText("id");
c.gridx = 1;
c.gridy = 0
;panel.add(fieldrefreshDisplay_via_Display_Id, c);
JLabel labelvalue = new JLabel();
labelvalue.setText("value");
c.gridx = 0;
c.gridy = 1;
panel.add(labelvalue, c);
fieldrefreshDisplay_via_Display_Value = new JTextField();
fieldrefreshDisplay_via_Display_Value.setText("value");
c.gridx = 1;
c.gridy = 1
;panel.add(fieldrefreshDisplay_via_Display_Value, c);
return panel;
}

public JPanel createsetDisplay_via_DisplayPanel(){
GridBagConstraints c = new GridBagConstraints();
c.fill = GridBagConstraints.HORIZONTAL;
c.weightx = 0.5;
JPanel panel = new JPanel(new GridBagLayout());
JLabel labelid = new JLabel();
labelid.setText("id");
c.gridx = 0;
c.gridy = 0;
panel.add(labelid, c);
fieldsetDisplay_via_Display_Id = new JTextField();
fieldsetDisplay_via_Display_Id.setText("id");
c.gridx = 1;
c.gridy = 0
;panel.add(fieldsetDisplay_via_Display_Id, c);
return panel;
}

public JScrollPane createJTextPane(){
screen = new JTextPane();
screen.setFocusable(false);
screen.setEditable(false);
screen.setAutoscrolls(true);
JScrollPane editorScrollPane = new JScrollPane(screen);
editorScrollPane.setVerticalScrollBarPolicy(
JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);
editorScrollPane.setPreferredSize(new Dimension(480, 240));
editorScrollPane.setMinimumSize(new Dimension(320, 160));
doc = screen.getStyledDocument();
Style def = StyleContext.getDefaultStyleContext().getStyle(StyleContext.DEFAULT_STYLE);
Style receivecurrentDisplay_via_DisplayStyle = doc.addStyle("receivecurrentDisplay_via_LcdScreenScala_DisplayStyle", def);
StyleConstants.setForeground(receivecurrentDisplay_via_DisplayStyle, new Color(152, 86, 140));
return editorScrollPane;
}

private String formatForPrint(String text) {
return (text.endsWith("\n") ? text : text + "\n");
}

@Override
public void actionPerformed(ActionEvent ae) {
if (ae.getSource() == clearButton){
screen.setText("");
}
else if ( ae.getSource() == getSendinitDisplay_via_Display()) {
port_LcdScreenScala_Display.send(new InitDisplay(new Integer(getFieldinitDisplay_via_Display_Id().getText()), new String(getFieldinitDisplay_via_Display_Title().getText()), new String(getFieldinitDisplay_via_Display_Unit().getText()), new Integer(getFieldinitDisplay_via_Display_InitValue().getText()), new Integer(getFieldinitDisplay_via_Display_MinValue().getText()), new Integer(getFieldinitDisplay_via_Display_MaxValue().getText()), InitDisplay$.MODULE$.getName()));
for(LcdScreenScalaListenerMirror l : listeners)
l.onInitDisplay_via_Display(new Integer(getFieldinitDisplay_via_Display_Id().getText()), new String(getFieldinitDisplay_via_Display_Title().getText()), new String(getFieldinitDisplay_via_Display_Unit().getText()), new Integer(getFieldinitDisplay_via_Display_InitValue().getText()), new Integer(getFieldinitDisplay_via_Display_MinValue().getText()), new Integer(getFieldinitDisplay_via_Display_MaxValue().getText()));
}
else if ( ae.getSource() == getSendrefreshDisplay_via_Display()) {
port_LcdScreenScala_Display.send(new RefreshDisplay(new Integer(getFieldrefreshDisplay_via_Display_Id().getText()), new Integer(getFieldrefreshDisplay_via_Display_Value().getText()), RefreshDisplay$.MODULE$.getName()));
for(LcdScreenScalaListenerMirror l : listeners)
l.onRefreshDisplay_via_Display(new Integer(getFieldrefreshDisplay_via_Display_Id().getText()), new Integer(getFieldrefreshDisplay_via_Display_Value().getText()));
}
else if ( ae.getSource() == getSendsetDisplay_via_Display()) {
port_LcdScreenScala_Display.send(new SetDisplay(new Integer(getFieldsetDisplay_via_Display_Id().getText()), SetDisplay$.MODULE$.getName()));
for(LcdScreenScalaListenerMirror l : listeners)
l.onSetDisplay_via_Display(new Integer(getFieldsetDisplay_via_Display_Id().getText()));
}
}

public static void main(String args[]){
LcdScreenScalaMock mock = new LcdScreenScalaMock();
LcdScreenScalaMockMirror mockMirror = new LcdScreenScalaMockMirror();
Channel c_Display_8845366 = new Channel();
c_Display_8845366.connect(mock.port_LcdScreenScala_Display, mockMirror.port_LcdScreenScala_Display);
c_Display_8845366.connect(mockMirror.port_LcdScreenScala_Display, mock.port_LcdScreenScala_Display);
c_Display_8845366.start();
}
}

