
/***************************************************************************** 
 * File generated from ThingML (Do not edit this file) 
 *****************************************************************************/


/*****************************************************************************
 * Definition of simple types and enumerations
 *****************************************************************************/

// Definition of Enumeration  PinMode
#define PINMODE_INPUT 0
#define PINMODE_OUTPUT 1

// Definition of Enumeration  DigitalPin
#define DIGITALPIN_PIN_0 0
#define DIGITALPIN_PIN_1 1
#define DIGITALPIN_PIN_2 2
#define DIGITALPIN_PIN_3 3
#define DIGITALPIN_PIN_4 4
#define DIGITALPIN_PIN_5 5
#define DIGITALPIN_PIN_6 6
#define DIGITALPIN_PIN_7 7
#define DIGITALPIN_PIN_8 8
#define DIGITALPIN_PIN_9 9
#define DIGITALPIN_PIN_10 10
#define DIGITALPIN_PIN_11 11
#define DIGITALPIN_PIN_12 12
#define DIGITALPIN_PIN_13 13
#define DIGITALPIN_A_0 14
#define DIGITALPIN_A_1 15
#define DIGITALPIN_A_2 16
#define DIGITALPIN_A_3 17
#define DIGITALPIN_A_4 18
#define DIGITALPIN_A_5 19

// Definition of Enumeration  PWMPin
#define PWMPIN_PWM_PIN_3 3
#define PWMPIN_PWM_PIN_5 5
#define PWMPIN_PWM_PIN_6 6
#define PWMPIN_PWM_PIN_9 9
#define PWMPIN_PWM_PIN_10 10
#define PWMPIN_PWM_PIN_11 11

// Definition of Enumeration  AnalogPin
#define ANALOGPIN_A_0 14
#define ANALOGPIN_A_1 15
#define ANALOGPIN_A_2 16
#define ANALOGPIN_A_3 17
#define ANALOGPIN_A_4 18
#define ANALOGPIN_A_5 19

// Definition of Enumeration  AnalogReference
#define ANALOGREFERENCE_DEFAULT 1
#define ANALOGREFERENCE_INTERNAL 3
#define ANALOGREFERENCE_EXTERNAL 0

// Definition of Enumeration  InterruptPin
#define INTERRUPTPIN_PIN_2_INT0 0
#define INTERRUPTPIN_PIN_3_INT1 1

// Definition of Enumeration  InterruptTrigger
#define INTERRUPTTRIGGER_CHANGE 1
#define INTERRUPTTRIGGER_RISING 3
#define INTERRUPTTRIGGER_FALLING 2
#define INTERRUPTTRIGGER_LOW 0

// Definition of Enumeration  DigitalState
#define DIGITALSTATE_LOW 0
#define DIGITALSTATE_HIGH 1

/*****************************************************************************
 * Headers for type : AnalogInputArduino
 *****************************************************************************/


// BEGIN: Code from the c_header annotation AnalogInputArduino
#include <EEPROM.h>
// END: Code from the c_header annotation AnalogInputArduino

// Definition of the instance stuct:
struct AnalogInputArduino_Instance {
// Variables for the ID of the instance
int id;
// Variables for the current instance state
int AnalogInputArduino_SimpleAnalogInputImp_State;
// Variables for the properties of the instance
uint8_t AnalogInputArduino_pin_var;
};

// Declaration of prototypes outgoing messages:
void AnalogInputArduino_SimpleAnalogInputImp_OnEntry(int state, struct AnalogInputArduino_Instance *_instance);
void AnalogInputArduino_handle_AnalogIO_analog_read_result(struct AnalogInputArduino_Instance *_instance, uint8_t pin, int16_t value);
void AnalogInputArduino_handle_AnalogInput_read_analog_input(struct AnalogInputArduino_Instance *_instance);
// Declaration of callbacks for incomming messages:
void register_AnalogInputArduino_send_AnalogIO_analog_read_listener(void (*_listener)(struct AnalogInputArduino_Instance*, uint8_t));
void register_AnalogInputArduino_send_AnalogInput_analog_input_value_listener(void (*_listener)(struct AnalogInputArduino_Instance*, int16_t));

// Definition of the states:
#define ANALOGINPUTARDUINO_SIMPLEANALOGINPUTIMP_STATE 0
#define ANALOGINPUTARDUINO_SIMPLEANALOGINPUTIMP_RUNNING_STATE 1
#define ANALOGINPUTARDUINO_SIMPLEANALOGINPUTIMP_WAITING_STATE 2

/*****************************************************************************
 * Implementation for type : AnalogInputArduino
 *****************************************************************************/

// Declaration of prototypes:
#ifdef EXTERN_C_PROTOTYPES
extern "C" {
#endif
void AnalogInputArduino_SimpleAnalogInputImp_OnExit(int state, struct AnalogInputArduino_Instance *_instance);
void AnalogInputArduino_send_AnalogIO_analog_read(struct AnalogInputArduino_Instance *_instance, uint8_t pin);
void AnalogInputArduino_send_AnalogInput_analog_input_value(struct AnalogInputArduino_Instance *_instance, int16_t value);
#ifdef EXTERN_C_PROTOTYPES
}
#endif

// Declaration of functions:

// On Entry Actions:
void AnalogInputArduino_SimpleAnalogInputImp_OnEntry(int state, struct AnalogInputArduino_Instance *_instance) {
switch(state) {
case ANALOGINPUTARDUINO_SIMPLEANALOGINPUTIMP_STATE:
_instance->AnalogInputArduino_SimpleAnalogInputImp_State = ANALOGINPUTARDUINO_SIMPLEANALOGINPUTIMP_RUNNING_STATE;
AnalogInputArduino_SimpleAnalogInputImp_OnEntry(_instance->AnalogInputArduino_SimpleAnalogInputImp_State, _instance);
break;
case ANALOGINPUTARDUINO_SIMPLEANALOGINPUTIMP_RUNNING_STATE:
break;
case ANALOGINPUTARDUINO_SIMPLEANALOGINPUTIMP_WAITING_STATE:
break;
default: break;
}
}

// On Exit Actions:
void AnalogInputArduino_SimpleAnalogInputImp_OnExit(int state, struct AnalogInputArduino_Instance *_instance) {
switch(state) {
case ANALOGINPUTARDUINO_SIMPLEANALOGINPUTIMP_STATE:
AnalogInputArduino_SimpleAnalogInputImp_OnExit(_instance->AnalogInputArduino_SimpleAnalogInputImp_State, _instance);
break;
case ANALOGINPUTARDUINO_SIMPLEANALOGINPUTIMP_RUNNING_STATE:
break;
case ANALOGINPUTARDUINO_SIMPLEANALOGINPUTIMP_WAITING_STATE:
break;
default: break;
}
}

// Event Handlers for incomming messages:
void AnalogInputArduino_handle_AnalogIO_analog_read_result(struct AnalogInputArduino_Instance *_instance, uint8_t pin, int16_t value) {
if (_instance->AnalogInputArduino_SimpleAnalogInputImp_State == ANALOGINPUTARDUINO_SIMPLEANALOGINPUTIMP_WAITING_STATE) {
if (pin == _instance->AnalogInputArduino_pin_var) {
AnalogInputArduino_SimpleAnalogInputImp_OnExit(ANALOGINPUTARDUINO_SIMPLEANALOGINPUTIMP_WAITING_STATE, _instance);
_instance->AnalogInputArduino_SimpleAnalogInputImp_State = ANALOGINPUTARDUINO_SIMPLEANALOGINPUTIMP_RUNNING_STATE;
AnalogInputArduino_send_AnalogInput_analog_input_value(_instance, value);
AnalogInputArduino_SimpleAnalogInputImp_OnEntry(ANALOGINPUTARDUINO_SIMPLEANALOGINPUTIMP_RUNNING_STATE, _instance);
}
}
}
void AnalogInputArduino_handle_AnalogInput_read_analog_input(struct AnalogInputArduino_Instance *_instance) {
if (_instance->AnalogInputArduino_SimpleAnalogInputImp_State == ANALOGINPUTARDUINO_SIMPLEANALOGINPUTIMP_RUNNING_STATE) {
if (1) {
AnalogInputArduino_SimpleAnalogInputImp_OnExit(ANALOGINPUTARDUINO_SIMPLEANALOGINPUTIMP_RUNNING_STATE, _instance);
_instance->AnalogInputArduino_SimpleAnalogInputImp_State = ANALOGINPUTARDUINO_SIMPLEANALOGINPUTIMP_WAITING_STATE;
AnalogInputArduino_send_AnalogIO_analog_read(_instance, _instance->AnalogInputArduino_pin_var);
AnalogInputArduino_SimpleAnalogInputImp_OnEntry(ANALOGINPUTARDUINO_SIMPLEANALOGINPUTIMP_WAITING_STATE, _instance);
}
}
}

// Observers for outgoing messages:
void (*AnalogInputArduino_send_AnalogIO_analog_read_listener)(struct AnalogInputArduino_Instance*, uint8_t)= 0x0;
void register_AnalogInputArduino_send_AnalogIO_analog_read_listener(void (*_listener)(struct AnalogInputArduino_Instance*, uint8_t)){
AnalogInputArduino_send_AnalogIO_analog_read_listener = _listener;
}
void AnalogInputArduino_send_AnalogIO_analog_read(struct AnalogInputArduino_Instance *_instance, uint8_t pin){
if (AnalogInputArduino_send_AnalogIO_analog_read_listener != 0x0) AnalogInputArduino_send_AnalogIO_analog_read_listener(_instance, pin);
}
void (*AnalogInputArduino_send_AnalogInput_analog_input_value_listener)(struct AnalogInputArduino_Instance*, int16_t)= 0x0;
void register_AnalogInputArduino_send_AnalogInput_analog_input_value_listener(void (*_listener)(struct AnalogInputArduino_Instance*, int16_t)){
AnalogInputArduino_send_AnalogInput_analog_input_value_listener = _listener;
}
void AnalogInputArduino_send_AnalogInput_analog_input_value(struct AnalogInputArduino_Instance *_instance, int16_t value){
if (AnalogInputArduino_send_AnalogInput_analog_input_value_listener != 0x0) AnalogInputArduino_send_AnalogInput_analog_input_value_listener(_instance, value);
}

/*****************************************************************************
 * Headers for type : SensorsDisplay
 *****************************************************************************/

// Definition of the instance stuct:
struct SensorsDisplay_Instance {
// Variables for the ID of the instance
int id;
// Variables for the current instance state
int SensorsDisplay_SensorsDisplayImpl_State;
// Variables for the properties of the instance
uint8_t SensorsDisplay_tempDisplay_var;
uint8_t SensorsDisplay_lightDisplay_var;
uint16_t SensorsDisplay_temp_var;
uint16_t SensorsDisplay_light_var;
uint16_t SensorsDisplay_period_var;
};

// Declaration of prototypes outgoing messages:
void SensorsDisplay_SensorsDisplayImpl_OnEntry(int state, struct SensorsDisplay_Instance *_instance);
void SensorsDisplay_handle_RemoteControl_changeDisplay(struct SensorsDisplay_Instance *_instance);
void SensorsDisplay_handle_TemperatureSensor_temperature_value(struct SensorsDisplay_Instance *_instance, int16_t val);
void SensorsDisplay_handle_LightSensor_light_value(struct SensorsDisplay_Instance *_instance, uint16_t val);
void SensorsDisplay_handle_Button_press(struct SensorsDisplay_Instance *_instance);
// Declaration of callbacks for incomming messages:
void register_SensorsDisplay_send_Display_initDisplay_listener(void (*_listener)(struct SensorsDisplay_Instance*, uint8_t, char *, char *, int, int, int));
void register_SensorsDisplay_send_Display_refreshDisplay_listener(void (*_listener)(struct SensorsDisplay_Instance*, uint8_t, int));
void register_SensorsDisplay_send_Display_setDisplay_listener(void (*_listener)(struct SensorsDisplay_Instance*, uint8_t));
void register_SensorsDisplay_send_RemoteControl_temperature_listener(void (*_listener)(struct SensorsDisplay_Instance*, uint16_t));
void register_SensorsDisplay_send_RemoteControl_light_listener(void (*_listener)(struct SensorsDisplay_Instance*, uint16_t));
void register_SensorsDisplay_send_TemperatureSensor_read_temperature_listener(void (*_listener)(struct SensorsDisplay_Instance*));
void register_SensorsDisplay_send_LightSensor_read_light_listener(void (*_listener)(struct SensorsDisplay_Instance*));
void register_SensorsDisplay_send_Led_led_on_listener(void (*_listener)(struct SensorsDisplay_Instance*));
void register_SensorsDisplay_send_Led_led_off_listener(void (*_listener)(struct SensorsDisplay_Instance*));
void register_SensorsDisplay_send_Led_led_toggle_listener(void (*_listener)(struct SensorsDisplay_Instance*));

// Definition of the states:
#define SENSORSDISPLAY_SENSORSDISPLAYIMPL_STATE 0
#define SENSORSDISPLAY_SENSORSDISPLAYIMPL_TEMP_STATE 1
#define SENSORSDISPLAY_SENSORSDISPLAYIMPL_LIGHT_STATE 2

/*****************************************************************************
 * Implementation for type : SensorsDisplay
 *****************************************************************************/

// Declaration of prototypes:
#ifdef EXTERN_C_PROTOTYPES
extern "C" {
#endif
void SensorsDisplay_SensorsDisplayImpl_OnExit(int state, struct SensorsDisplay_Instance *_instance);
void SensorsDisplay_send_Display_initDisplay(struct SensorsDisplay_Instance *_instance, uint8_t id, char * title, char * unit, int initValue, int minValue, int maxValue);
void SensorsDisplay_send_Display_refreshDisplay(struct SensorsDisplay_Instance *_instance, uint8_t id, int value);
void SensorsDisplay_send_Display_setDisplay(struct SensorsDisplay_Instance *_instance, uint8_t id);
void SensorsDisplay_send_RemoteControl_temperature(struct SensorsDisplay_Instance *_instance, uint16_t temp);
void SensorsDisplay_send_RemoteControl_light(struct SensorsDisplay_Instance *_instance, uint16_t light);
void SensorsDisplay_send_TemperatureSensor_read_temperature(struct SensorsDisplay_Instance *_instance);
void SensorsDisplay_send_LightSensor_read_light(struct SensorsDisplay_Instance *_instance);
void SensorsDisplay_send_Led_led_on(struct SensorsDisplay_Instance *_instance);
void SensorsDisplay_send_Led_led_off(struct SensorsDisplay_Instance *_instance);
void SensorsDisplay_send_Led_led_toggle(struct SensorsDisplay_Instance *_instance);
#ifdef EXTERN_C_PROTOTYPES
}
#endif

// Declaration of functions:

// On Entry Actions:
void SensorsDisplay_SensorsDisplayImpl_OnEntry(int state, struct SensorsDisplay_Instance *_instance) {
switch(state) {
case SENSORSDISPLAY_SENSORSDISPLAYIMPL_STATE:
_instance->SensorsDisplay_SensorsDisplayImpl_State = SENSORSDISPLAY_SENSORSDISPLAYIMPL_TEMP_STATE;
{
SensorsDisplay_send_Display_initDisplay(_instance, _instance->SensorsDisplay_tempDisplay_var, "Temperature", "C", 25, 15, 40);
SensorsDisplay_send_Display_initDisplay(_instance, _instance->SensorsDisplay_lightDisplay_var, "Light", "", 0, 0, 1023);
}
SensorsDisplay_SensorsDisplayImpl_OnEntry(_instance->SensorsDisplay_SensorsDisplayImpl_State, _instance);
break;
case SENSORSDISPLAY_SENSORSDISPLAYIMPL_TEMP_STATE:
{
SensorsDisplay_send_Display_setDisplay(_instance, _instance->SensorsDisplay_tempDisplay_var);
}
break;
case SENSORSDISPLAY_SENSORSDISPLAYIMPL_LIGHT_STATE:
{
SensorsDisplay_send_Display_setDisplay(_instance, _instance->SensorsDisplay_lightDisplay_var);
}
break;
default: break;
}
}

// On Exit Actions:
void SensorsDisplay_SensorsDisplayImpl_OnExit(int state, struct SensorsDisplay_Instance *_instance) {
switch(state) {
case SENSORSDISPLAY_SENSORSDISPLAYIMPL_STATE:
SensorsDisplay_SensorsDisplayImpl_OnExit(_instance->SensorsDisplay_SensorsDisplayImpl_State, _instance);
break;
case SENSORSDISPLAY_SENSORSDISPLAYIMPL_TEMP_STATE:
{
SensorsDisplay_send_Led_led_toggle(_instance);
SensorsDisplay_send_RemoteControl_temperature(_instance, _instance->SensorsDisplay_temp_var);
SensorsDisplay_send_Led_led_toggle(_instance);
}
break;
case SENSORSDISPLAY_SENSORSDISPLAYIMPL_LIGHT_STATE:
{
SensorsDisplay_send_Led_led_toggle(_instance);
SensorsDisplay_send_RemoteControl_light(_instance, _instance->SensorsDisplay_light_var);
SensorsDisplay_send_Led_led_toggle(_instance);
}
break;
default: break;
}
}

// Event Handlers for incomming messages:
void SensorsDisplay_handle_RemoteControl_changeDisplay(struct SensorsDisplay_Instance *_instance) {
if (_instance->SensorsDisplay_SensorsDisplayImpl_State == SENSORSDISPLAY_SENSORSDISPLAYIMPL_TEMP_STATE) {
if (1) {
SensorsDisplay_SensorsDisplayImpl_OnExit(SENSORSDISPLAY_SENSORSDISPLAYIMPL_TEMP_STATE, _instance);
_instance->SensorsDisplay_SensorsDisplayImpl_State = SENSORSDISPLAY_SENSORSDISPLAYIMPL_LIGHT_STATE;
SensorsDisplay_SensorsDisplayImpl_OnEntry(SENSORSDISPLAY_SENSORSDISPLAYIMPL_LIGHT_STATE, _instance);
}
}
else if (_instance->SensorsDisplay_SensorsDisplayImpl_State == SENSORSDISPLAY_SENSORSDISPLAYIMPL_LIGHT_STATE) {
if (1) {
SensorsDisplay_SensorsDisplayImpl_OnExit(SENSORSDISPLAY_SENSORSDISPLAYIMPL_LIGHT_STATE, _instance);
_instance->SensorsDisplay_SensorsDisplayImpl_State = SENSORSDISPLAY_SENSORSDISPLAYIMPL_TEMP_STATE;
SensorsDisplay_SensorsDisplayImpl_OnEntry(SENSORSDISPLAY_SENSORSDISPLAYIMPL_TEMP_STATE, _instance);
}
}
}
void SensorsDisplay_handle_TemperatureSensor_temperature_value(struct SensorsDisplay_Instance *_instance, int16_t val) {
if (1) {
{
SensorsDisplay_send_Display_refreshDisplay(_instance, _instance->SensorsDisplay_tempDisplay_var, val);
_instance->SensorsDisplay_temp_var = val;
}
}
}
void SensorsDisplay_handle_LightSensor_light_value(struct SensorsDisplay_Instance *_instance, uint16_t val) {
if (1) {
{
SensorsDisplay_send_Display_refreshDisplay(_instance, _instance->SensorsDisplay_lightDisplay_var, val);
_instance->SensorsDisplay_light_var = val;
}
}
}
void SensorsDisplay_handle_Button_press(struct SensorsDisplay_Instance *_instance) {
if (_instance->SensorsDisplay_SensorsDisplayImpl_State == SENSORSDISPLAY_SENSORSDISPLAYIMPL_TEMP_STATE) {
if (1) {
SensorsDisplay_SensorsDisplayImpl_OnExit(SENSORSDISPLAY_SENSORSDISPLAYIMPL_TEMP_STATE, _instance);
_instance->SensorsDisplay_SensorsDisplayImpl_State = SENSORSDISPLAY_SENSORSDISPLAYIMPL_LIGHT_STATE;
SensorsDisplay_SensorsDisplayImpl_OnEntry(SENSORSDISPLAY_SENSORSDISPLAYIMPL_LIGHT_STATE, _instance);
}
}
else if (_instance->SensorsDisplay_SensorsDisplayImpl_State == SENSORSDISPLAY_SENSORSDISPLAYIMPL_LIGHT_STATE) {
if (1) {
SensorsDisplay_SensorsDisplayImpl_OnExit(SENSORSDISPLAY_SENSORSDISPLAYIMPL_LIGHT_STATE, _instance);
_instance->SensorsDisplay_SensorsDisplayImpl_State = SENSORSDISPLAY_SENSORSDISPLAYIMPL_TEMP_STATE;
SensorsDisplay_SensorsDisplayImpl_OnEntry(SENSORSDISPLAY_SENSORSDISPLAYIMPL_TEMP_STATE, _instance);
}
}
}

// Observers for outgoing messages:
void (*SensorsDisplay_send_Display_initDisplay_listener)(struct SensorsDisplay_Instance*, uint8_t, char *, char *, int, int, int)= 0x0;
void register_SensorsDisplay_send_Display_initDisplay_listener(void (*_listener)(struct SensorsDisplay_Instance*, uint8_t, char *, char *, int, int, int)){
SensorsDisplay_send_Display_initDisplay_listener = _listener;
}
void SensorsDisplay_send_Display_initDisplay(struct SensorsDisplay_Instance *_instance, uint8_t id, char * title, char * unit, int initValue, int minValue, int maxValue){
if (SensorsDisplay_send_Display_initDisplay_listener != 0x0) SensorsDisplay_send_Display_initDisplay_listener(_instance, id, title, unit, initValue, minValue, maxValue);
}
void (*SensorsDisplay_send_Display_refreshDisplay_listener)(struct SensorsDisplay_Instance*, uint8_t, int)= 0x0;
void register_SensorsDisplay_send_Display_refreshDisplay_listener(void (*_listener)(struct SensorsDisplay_Instance*, uint8_t, int)){
SensorsDisplay_send_Display_refreshDisplay_listener = _listener;
}
void SensorsDisplay_send_Display_refreshDisplay(struct SensorsDisplay_Instance *_instance, uint8_t id, int value){
if (SensorsDisplay_send_Display_refreshDisplay_listener != 0x0) SensorsDisplay_send_Display_refreshDisplay_listener(_instance, id, value);
}
void (*SensorsDisplay_send_Display_setDisplay_listener)(struct SensorsDisplay_Instance*, uint8_t)= 0x0;
void register_SensorsDisplay_send_Display_setDisplay_listener(void (*_listener)(struct SensorsDisplay_Instance*, uint8_t)){
SensorsDisplay_send_Display_setDisplay_listener = _listener;
}
void SensorsDisplay_send_Display_setDisplay(struct SensorsDisplay_Instance *_instance, uint8_t id){
if (SensorsDisplay_send_Display_setDisplay_listener != 0x0) SensorsDisplay_send_Display_setDisplay_listener(_instance, id);
}
void (*SensorsDisplay_send_RemoteControl_temperature_listener)(struct SensorsDisplay_Instance*, uint16_t)= 0x0;
void register_SensorsDisplay_send_RemoteControl_temperature_listener(void (*_listener)(struct SensorsDisplay_Instance*, uint16_t)){
SensorsDisplay_send_RemoteControl_temperature_listener = _listener;
}
void SensorsDisplay_send_RemoteControl_temperature(struct SensorsDisplay_Instance *_instance, uint16_t temp){
if (SensorsDisplay_send_RemoteControl_temperature_listener != 0x0) SensorsDisplay_send_RemoteControl_temperature_listener(_instance, temp);
}
void (*SensorsDisplay_send_RemoteControl_light_listener)(struct SensorsDisplay_Instance*, uint16_t)= 0x0;
void register_SensorsDisplay_send_RemoteControl_light_listener(void (*_listener)(struct SensorsDisplay_Instance*, uint16_t)){
SensorsDisplay_send_RemoteControl_light_listener = _listener;
}
void SensorsDisplay_send_RemoteControl_light(struct SensorsDisplay_Instance *_instance, uint16_t light){
if (SensorsDisplay_send_RemoteControl_light_listener != 0x0) SensorsDisplay_send_RemoteControl_light_listener(_instance, light);
}
void (*SensorsDisplay_send_TemperatureSensor_read_temperature_listener)(struct SensorsDisplay_Instance*)= 0x0;
void register_SensorsDisplay_send_TemperatureSensor_read_temperature_listener(void (*_listener)(struct SensorsDisplay_Instance*)){
SensorsDisplay_send_TemperatureSensor_read_temperature_listener = _listener;
}
void SensorsDisplay_send_TemperatureSensor_read_temperature(struct SensorsDisplay_Instance *_instance){
if (SensorsDisplay_send_TemperatureSensor_read_temperature_listener != 0x0) SensorsDisplay_send_TemperatureSensor_read_temperature_listener(_instance);
}
void (*SensorsDisplay_send_LightSensor_read_light_listener)(struct SensorsDisplay_Instance*)= 0x0;
void register_SensorsDisplay_send_LightSensor_read_light_listener(void (*_listener)(struct SensorsDisplay_Instance*)){
SensorsDisplay_send_LightSensor_read_light_listener = _listener;
}
void SensorsDisplay_send_LightSensor_read_light(struct SensorsDisplay_Instance *_instance){
if (SensorsDisplay_send_LightSensor_read_light_listener != 0x0) SensorsDisplay_send_LightSensor_read_light_listener(_instance);
}
void (*SensorsDisplay_send_Led_led_on_listener)(struct SensorsDisplay_Instance*)= 0x0;
void register_SensorsDisplay_send_Led_led_on_listener(void (*_listener)(struct SensorsDisplay_Instance*)){
SensorsDisplay_send_Led_led_on_listener = _listener;
}
void SensorsDisplay_send_Led_led_on(struct SensorsDisplay_Instance *_instance){
if (SensorsDisplay_send_Led_led_on_listener != 0x0) SensorsDisplay_send_Led_led_on_listener(_instance);
}
void (*SensorsDisplay_send_Led_led_off_listener)(struct SensorsDisplay_Instance*)= 0x0;
void register_SensorsDisplay_send_Led_led_off_listener(void (*_listener)(struct SensorsDisplay_Instance*)){
SensorsDisplay_send_Led_led_off_listener = _listener;
}
void SensorsDisplay_send_Led_led_off(struct SensorsDisplay_Instance *_instance){
if (SensorsDisplay_send_Led_led_off_listener != 0x0) SensorsDisplay_send_Led_led_off_listener(_instance);
}
void (*SensorsDisplay_send_Led_led_toggle_listener)(struct SensorsDisplay_Instance*)= 0x0;
void register_SensorsDisplay_send_Led_led_toggle_listener(void (*_listener)(struct SensorsDisplay_Instance*)){
SensorsDisplay_send_Led_led_toggle_listener = _listener;
}
void SensorsDisplay_send_Led_led_toggle(struct SensorsDisplay_Instance *_instance){
if (SensorsDisplay_send_Led_led_toggle_listener != 0x0) SensorsDisplay_send_Led_led_toggle_listener(_instance);
}

/*****************************************************************************
 * Headers for type : MessageDeserializer
 *****************************************************************************/

// Definition of the instance stuct:
struct MessageDeserializer_Instance {
// Variables for the ID of the instance
int id;
// Variables for the current instance state
int MessageDeserializer_receive_State;
// Variables for the properties of the instance
uint8_t PacketManager_lengthInteger_var;
uint8_t PacketManager_lengthString_var;
uint8_t PacketManager_lengthUInt16_var;
int PacketManager_MAX_PACKET_SIZE_var;
uint8_t PacketManager_START_BYTE_var;
uint8_t PacketManager_STOP_BYTE_var;
uint8_t PacketManager_ESCAPE_BYTE_var;
int PacketManager_CODE_POSITION_var;
int PacketManager_LENGTH_POSITION_var;
int PacketManager_DATA_POSITION_var;
uint8_t PacketManager_buffer_var[16];
int PacketManager_index_var;
};

// Declaration of prototypes outgoing messages:
void MessageDeserializer_receive_OnEntry(int state, struct MessageDeserializer_Instance *_instance);
void MessageDeserializer_handle_serial_serial_rx(struct MessageDeserializer_Instance *_instance, uint8_t b);
// Declaration of callbacks for incomming messages:
void register_MessageDeserializer_send_RemoteControl_changeDisplay_listener(void (*_listener)(struct MessageDeserializer_Instance*));

// Definition of the states:
#define MESSAGEDESERIALIZER_RECEIVE_STATE 0
#define MESSAGEDESERIALIZER_RECEIVE_IDLE_STATE 1
#define MESSAGEDESERIALIZER_RECEIVE_RECEIVEMESSAGE_STATE 2
#define MESSAGEDESERIALIZER_RECEIVE_ESCAPE_STATE 3

/*****************************************************************************
 * Implementation for type : MessageDeserializer
 *****************************************************************************/

// Declaration of prototypes:
#ifdef EXTERN_C_PROTOTYPES
extern "C" {
#endif
void MessageDeserializer_receive_OnExit(int state, struct MessageDeserializer_Instance *_instance);
void MessageDeserializer_send_RemoteControl_changeDisplay(struct MessageDeserializer_Instance *_instance);
void f_MessageDeserializer_forward(struct MessageDeserializer_Instance *_instance);
void f_MessageDeserializer_deserializeRemote_changeDisplay(struct MessageDeserializer_Instance *_instance);
int f_MessageDeserializer_deserializeInteger(struct MessageDeserializer_Instance *_instance);
uint16_t f_MessageDeserializer_deserializeUInt16(struct MessageDeserializer_Instance *_instance);
void f_MessageDeserializer_setHeader(struct MessageDeserializer_Instance *_instance, uint8_t code, uint8_t length);
void f_MessageDeserializer_storeByte(struct MessageDeserializer_Instance *_instance, uint8_t b);
uint8_t f_MessageDeserializer_readByte(struct MessageDeserializer_Instance *_instance);
#ifdef EXTERN_C_PROTOTYPES
}
#endif

// Declaration of functions:
// Definition of function forward
void f_MessageDeserializer_forward(struct MessageDeserializer_Instance *_instance) {
{
_instance->PacketManager_index_var = _instance->PacketManager_DATA_POSITION_var;
uint8_t code = _instance->PacketManager_buffer_var[_instance->PacketManager_CODE_POSITION_var];
if(code == 20) {
f_MessageDeserializer_deserializeRemote_changeDisplay(_instance);
}
}
}

// Definition of function deserializeRemote_changeDisplay
void f_MessageDeserializer_deserializeRemote_changeDisplay(struct MessageDeserializer_Instance *_instance) {
{
MessageDeserializer_send_RemoteControl_changeDisplay(_instance);
}
}

// Definition of function deserializeInteger
int f_MessageDeserializer_deserializeInteger(struct MessageDeserializer_Instance *_instance) {
{
int res = f_MessageDeserializer_readByte(_instance) << 8  + f_MessageDeserializer_readByte(_instance);
return res;
}
}

// Definition of function deserializeUInt16
uint16_t f_MessageDeserializer_deserializeUInt16(struct MessageDeserializer_Instance *_instance) {
{
uint16_t res = f_MessageDeserializer_readByte(_instance) << 8 |  + f_MessageDeserializer_readByte(_instance);
return res;
}
}

// Definition of function setHeader
void f_MessageDeserializer_setHeader(struct MessageDeserializer_Instance *_instance, uint8_t code, uint8_t length) {
{
_instance->PacketManager_index_var = 0;
f_MessageDeserializer_storeByte(_instance, 1);
f_MessageDeserializer_storeByte(_instance, 0);
f_MessageDeserializer_storeByte(_instance, 0);
_instance->PacketManager_CODE_POSITION_var = _instance->PacketManager_index_var;
f_MessageDeserializer_storeByte(_instance, code);
_instance->PacketManager_LENGTH_POSITION_var = _instance->PacketManager_index_var;
f_MessageDeserializer_storeByte(_instance, length);
_instance->PacketManager_DATA_POSITION_var = _instance->PacketManager_index_var;
_instance->PacketManager_index_var = _instance->PacketManager_DATA_POSITION_var;
}
}

// Definition of function storeByte
void f_MessageDeserializer_storeByte(struct MessageDeserializer_Instance *_instance, uint8_t b) {
{
if(_instance->PacketManager_index_var == _instance->PacketManager_MAX_PACKET_SIZE_var) {
// ERROR: ("BUFFER OVERFLOW\n")
}
if(_instance->PacketManager_index_var < _instance->PacketManager_MAX_PACKET_SIZE_var) {
_instance->PacketManager_buffer_var[_instance->PacketManager_index_var] = b;
_instance->PacketManager_index_var = _instance->PacketManager_index_var + 1;
}
}
}

// Definition of function readByte
uint8_t f_MessageDeserializer_readByte(struct MessageDeserializer_Instance *_instance) {
{
uint8_t b;
if(_instance->PacketManager_index_var < _instance->PacketManager_MAX_PACKET_SIZE_var) {
b = _instance->PacketManager_buffer_var[_instance->PacketManager_index_var];
_instance->PacketManager_index_var = _instance->PacketManager_index_var + 1;
}
if(_instance->PacketManager_index_var == _instance->PacketManager_MAX_PACKET_SIZE_var) {
// ERROR: ("BUFFER OVERFLOW: trying to read out of buffer boundaries")
b = _instance->PacketManager_STOP_BYTE_var;
}
return b;
}
}


// On Entry Actions:
void MessageDeserializer_receive_OnEntry(int state, struct MessageDeserializer_Instance *_instance) {
switch(state) {
case MESSAGEDESERIALIZER_RECEIVE_STATE:
_instance->MessageDeserializer_receive_State = MESSAGEDESERIALIZER_RECEIVE_IDLE_STATE;
MessageDeserializer_receive_OnEntry(_instance->MessageDeserializer_receive_State, _instance);
break;
case MESSAGEDESERIALIZER_RECEIVE_IDLE_STATE:
_instance->PacketManager_index_var = 0;
break;
case MESSAGEDESERIALIZER_RECEIVE_RECEIVEMESSAGE_STATE:
break;
case MESSAGEDESERIALIZER_RECEIVE_ESCAPE_STATE:
break;
default: break;
}
}

// On Exit Actions:
void MessageDeserializer_receive_OnExit(int state, struct MessageDeserializer_Instance *_instance) {
switch(state) {
case MESSAGEDESERIALIZER_RECEIVE_STATE:
MessageDeserializer_receive_OnExit(_instance->MessageDeserializer_receive_State, _instance);
break;
case MESSAGEDESERIALIZER_RECEIVE_IDLE_STATE:
break;
case MESSAGEDESERIALIZER_RECEIVE_RECEIVEMESSAGE_STATE:
break;
case MESSAGEDESERIALIZER_RECEIVE_ESCAPE_STATE:
break;
default: break;
}
}

// Event Handlers for incomming messages:
void MessageDeserializer_handle_serial_serial_rx(struct MessageDeserializer_Instance *_instance, uint8_t b) {
if (_instance->MessageDeserializer_receive_State == MESSAGEDESERIALIZER_RECEIVE_IDLE_STATE) {
if (b == _instance->PacketManager_START_BYTE_var) {
MessageDeserializer_receive_OnExit(MESSAGEDESERIALIZER_RECEIVE_IDLE_STATE, _instance);
_instance->MessageDeserializer_receive_State = MESSAGEDESERIALIZER_RECEIVE_RECEIVEMESSAGE_STATE;
MessageDeserializer_receive_OnEntry(MESSAGEDESERIALIZER_RECEIVE_RECEIVEMESSAGE_STATE, _instance);
}
}
else if (_instance->MessageDeserializer_receive_State == MESSAGEDESERIALIZER_RECEIVE_RECEIVEMESSAGE_STATE) {
if (b == _instance->PacketManager_ESCAPE_BYTE_var) {
MessageDeserializer_receive_OnExit(MESSAGEDESERIALIZER_RECEIVE_RECEIVEMESSAGE_STATE, _instance);
_instance->MessageDeserializer_receive_State = MESSAGEDESERIALIZER_RECEIVE_ESCAPE_STATE;
MessageDeserializer_receive_OnEntry(MESSAGEDESERIALIZER_RECEIVE_ESCAPE_STATE, _instance);
}
else if (b == _instance->PacketManager_STOP_BYTE_var) {
MessageDeserializer_receive_OnExit(MESSAGEDESERIALIZER_RECEIVE_RECEIVEMESSAGE_STATE, _instance);
_instance->MessageDeserializer_receive_State = MESSAGEDESERIALIZER_RECEIVE_IDLE_STATE;
f_MessageDeserializer_forward(_instance);
MessageDeserializer_receive_OnEntry(MESSAGEDESERIALIZER_RECEIVE_IDLE_STATE, _instance);
}
else if ( !(b == _instance->PacketManager_ESCAPE_BYTE_var || b == _instance->PacketManager_STOP_BYTE_var)) {
f_MessageDeserializer_storeByte(_instance, b);
}
else if (b == _instance->PacketManager_START_BYTE_var) {
_instance->PacketManager_index_var = 0;
}
}
else if (_instance->MessageDeserializer_receive_State == MESSAGEDESERIALIZER_RECEIVE_ESCAPE_STATE) {
if (1) {
MessageDeserializer_receive_OnExit(MESSAGEDESERIALIZER_RECEIVE_ESCAPE_STATE, _instance);
_instance->MessageDeserializer_receive_State = MESSAGEDESERIALIZER_RECEIVE_RECEIVEMESSAGE_STATE;
f_MessageDeserializer_storeByte(_instance, b);
MessageDeserializer_receive_OnEntry(MESSAGEDESERIALIZER_RECEIVE_RECEIVEMESSAGE_STATE, _instance);
}
}
}

// Observers for outgoing messages:
void (*MessageDeserializer_send_RemoteControl_changeDisplay_listener)(struct MessageDeserializer_Instance*)= 0x0;
void register_MessageDeserializer_send_RemoteControl_changeDisplay_listener(void (*_listener)(struct MessageDeserializer_Instance*)){
MessageDeserializer_send_RemoteControl_changeDisplay_listener = _listener;
}
void MessageDeserializer_send_RemoteControl_changeDisplay(struct MessageDeserializer_Instance *_instance){
if (MessageDeserializer_send_RemoteControl_changeDisplay_listener != 0x0) MessageDeserializer_send_RemoteControl_changeDisplay_listener(_instance);
}

/*****************************************************************************
 * Headers for type : TimerArduino
 *****************************************************************************/

// Definition of the instance stuct:
struct TimerArduino_Instance {
// Variables for the ID of the instance
int id;
// Variables for the current instance state
int TimerArduino_SoftTimer_State;
// Variables for the properties of the instance
long TimerArduino_SoftTimer_target_var;
};

// Declaration of prototypes outgoing messages:
void TimerArduino_SoftTimer_OnEntry(int state, struct TimerArduino_Instance *_instance);
void TimerArduino_handle_timer_timer_cancel(struct TimerArduino_Instance *_instance);
void TimerArduino_handle_timer_timer_start(struct TimerArduino_Instance *_instance, int delay);
void TimerArduino_handle_Polling_poll(struct TimerArduino_Instance *_instance);
// Declaration of callbacks for incomming messages:
void register_TimerArduino_send_timer_timer_timeout_listener(void (*_listener)(struct TimerArduino_Instance*));

// Definition of the states:
#define TIMERARDUINO_SOFTTIMER_STATE 0
#define TIMERARDUINO_SOFTTIMER_IDLE_STATE 1
#define TIMERARDUINO_SOFTTIMER_COUNTING_STATE 2

/*****************************************************************************
 * Implementation for type : TimerArduino
 *****************************************************************************/

// Declaration of prototypes:
#ifdef EXTERN_C_PROTOTYPES
extern "C" {
#endif
void TimerArduino_SoftTimer_OnExit(int state, struct TimerArduino_Instance *_instance);
void TimerArduino_send_timer_timer_timeout(struct TimerArduino_Instance *_instance);
#ifdef EXTERN_C_PROTOTYPES
}
#endif

// Declaration of functions:

// On Entry Actions:
void TimerArduino_SoftTimer_OnEntry(int state, struct TimerArduino_Instance *_instance) {
switch(state) {
case TIMERARDUINO_SOFTTIMER_STATE:
_instance->TimerArduino_SoftTimer_State = TIMERARDUINO_SOFTTIMER_IDLE_STATE;
TimerArduino_SoftTimer_OnEntry(_instance->TimerArduino_SoftTimer_State, _instance);
break;
case TIMERARDUINO_SOFTTIMER_IDLE_STATE:
break;
case TIMERARDUINO_SOFTTIMER_COUNTING_STATE:
break;
default: break;
}
}

// On Exit Actions:
void TimerArduino_SoftTimer_OnExit(int state, struct TimerArduino_Instance *_instance) {
switch(state) {
case TIMERARDUINO_SOFTTIMER_STATE:
TimerArduino_SoftTimer_OnExit(_instance->TimerArduino_SoftTimer_State, _instance);
break;
case TIMERARDUINO_SOFTTIMER_IDLE_STATE:
break;
case TIMERARDUINO_SOFTTIMER_COUNTING_STATE:
break;
default: break;
}
}

// Event Handlers for incomming messages:
void TimerArduino_handle_timer_timer_cancel(struct TimerArduino_Instance *_instance) {
if (_instance->TimerArduino_SoftTimer_State == TIMERARDUINO_SOFTTIMER_COUNTING_STATE) {
if (1) {
TimerArduino_SoftTimer_OnExit(TIMERARDUINO_SOFTTIMER_COUNTING_STATE, _instance);
_instance->TimerArduino_SoftTimer_State = TIMERARDUINO_SOFTTIMER_IDLE_STATE;
TimerArduino_SoftTimer_OnEntry(TIMERARDUINO_SOFTTIMER_IDLE_STATE, _instance);
}
}
}
void TimerArduino_handle_timer_timer_start(struct TimerArduino_Instance *_instance, int delay) {
if (_instance->TimerArduino_SoftTimer_State == TIMERARDUINO_SOFTTIMER_IDLE_STATE) {
if (delay > 0) {
TimerArduino_SoftTimer_OnExit(TIMERARDUINO_SOFTTIMER_IDLE_STATE, _instance);
_instance->TimerArduino_SoftTimer_State = TIMERARDUINO_SOFTTIMER_COUNTING_STATE;
_instance->TimerArduino_SoftTimer_target_var = millis() + delay;
TimerArduino_SoftTimer_OnEntry(TIMERARDUINO_SOFTTIMER_COUNTING_STATE, _instance);
}
}
else if (_instance->TimerArduino_SoftTimer_State == TIMERARDUINO_SOFTTIMER_COUNTING_STATE) {
if (delay > 0) {
_instance->TimerArduino_SoftTimer_target_var = millis() + delay;
}
}
}
void TimerArduino_handle_Polling_poll(struct TimerArduino_Instance *_instance) {
if (_instance->TimerArduino_SoftTimer_State == TIMERARDUINO_SOFTTIMER_COUNTING_STATE) {
if ( !(millis() < _instance->TimerArduino_SoftTimer_target_var)) {
TimerArduino_SoftTimer_OnExit(TIMERARDUINO_SOFTTIMER_COUNTING_STATE, _instance);
_instance->TimerArduino_SoftTimer_State = TIMERARDUINO_SOFTTIMER_IDLE_STATE;
TimerArduino_SoftTimer_OnEntry(TIMERARDUINO_SOFTTIMER_IDLE_STATE, _instance);
TimerArduino_send_timer_timer_timeout(_instance);
}
}
}

// Observers for outgoing messages:
void (*TimerArduino_send_timer_timer_timeout_listener)(struct TimerArduino_Instance*)= 0x0;
void register_TimerArduino_send_timer_timer_timeout_listener(void (*_listener)(struct TimerArduino_Instance*)){
TimerArduino_send_timer_timer_timeout_listener = _listener;
}
void TimerArduino_send_timer_timer_timeout(struct TimerArduino_Instance *_instance){
if (TimerArduino_send_timer_timer_timeout_listener != 0x0) TimerArduino_send_timer_timer_timeout_listener(_instance);
}

/*****************************************************************************
 * Headers for type : SerialArduino
 *****************************************************************************/

// Definition of the instance stuct:
struct SerialArduino_Instance {
// Variables for the ID of the instance
int id;
// Variables for the current instance state
int SerialArduino_SerialImpl_State;
// Variables for the properties of the instance
};

// Declaration of prototypes outgoing messages:
void SerialArduino_SerialImpl_OnEntry(int state, struct SerialArduino_Instance *_instance);
void SerialArduino_handle_serial_serial_tx(struct SerialArduino_Instance *_instance, uint8_t b);
void SerialArduino_handle_Polling_poll(struct SerialArduino_Instance *_instance);
// Declaration of callbacks for incomming messages:
void register_SerialArduino_send_serial_serial_rx_listener(void (*_listener)(struct SerialArduino_Instance*, uint8_t));
void register_SerialArduino_send_serial_serial_closed_listener(void (*_listener)(struct SerialArduino_Instance*));
void register_SerialArduino_send_serial_serial_opened_listener(void (*_listener)(struct SerialArduino_Instance*));

// Definition of the states:
#define SERIALARDUINO_SERIALIMPL_STATE 0
#define SERIALARDUINO_SERIALIMPL_RECEIVING_STATE 1

/*****************************************************************************
 * Implementation for type : SerialArduino
 *****************************************************************************/

// Declaration of prototypes:
#ifdef EXTERN_C_PROTOTYPES
extern "C" {
#endif
void SerialArduino_SerialImpl_OnExit(int state, struct SerialArduino_Instance *_instance);
void SerialArduino_send_serial_serial_rx(struct SerialArduino_Instance *_instance, uint8_t b);
void SerialArduino_send_serial_serial_closed(struct SerialArduino_Instance *_instance);
void SerialArduino_send_serial_serial_opened(struct SerialArduino_Instance *_instance);
#ifdef EXTERN_C_PROTOTYPES
}
#endif

// Declaration of functions:

// On Entry Actions:
void SerialArduino_SerialImpl_OnEntry(int state, struct SerialArduino_Instance *_instance) {
switch(state) {
case SERIALARDUINO_SERIALIMPL_STATE:
_instance->SerialArduino_SerialImpl_State = SERIALARDUINO_SERIALIMPL_RECEIVING_STATE;
SerialArduino_SerialImpl_OnEntry(_instance->SerialArduino_SerialImpl_State, _instance);
break;
case SERIALARDUINO_SERIALIMPL_RECEIVING_STATE:
Serial.begin(9600);
break;
default: break;
}
}

// On Exit Actions:
void SerialArduino_SerialImpl_OnExit(int state, struct SerialArduino_Instance *_instance) {
switch(state) {
case SERIALARDUINO_SERIALIMPL_STATE:
SerialArduino_SerialImpl_OnExit(_instance->SerialArduino_SerialImpl_State, _instance);
break;
case SERIALARDUINO_SERIALIMPL_RECEIVING_STATE:
break;
default: break;
}
}

// Event Handlers for incomming messages:
void SerialArduino_handle_serial_serial_tx(struct SerialArduino_Instance *_instance, uint8_t b) {
if (_instance->SerialArduino_SerialImpl_State == SERIALARDUINO_SERIALIMPL_RECEIVING_STATE) {
if (1) {
Serial.print(b);
}
}
}
void SerialArduino_handle_Polling_poll(struct SerialArduino_Instance *_instance) {
if (_instance->SerialArduino_SerialImpl_State == SERIALARDUINO_SERIALIMPL_RECEIVING_STATE) {
if (Serial.available() > 0) {
SerialArduino_send_serial_serial_rx(_instance, (char)Serial.read());
}
}
}

// Observers for outgoing messages:
void (*SerialArduino_send_serial_serial_rx_listener)(struct SerialArduino_Instance*, uint8_t)= 0x0;
void register_SerialArduino_send_serial_serial_rx_listener(void (*_listener)(struct SerialArduino_Instance*, uint8_t)){
SerialArduino_send_serial_serial_rx_listener = _listener;
}
void SerialArduino_send_serial_serial_rx(struct SerialArduino_Instance *_instance, uint8_t b){
if (SerialArduino_send_serial_serial_rx_listener != 0x0) SerialArduino_send_serial_serial_rx_listener(_instance, b);
}
void (*SerialArduino_send_serial_serial_closed_listener)(struct SerialArduino_Instance*)= 0x0;
void register_SerialArduino_send_serial_serial_closed_listener(void (*_listener)(struct SerialArduino_Instance*)){
SerialArduino_send_serial_serial_closed_listener = _listener;
}
void SerialArduino_send_serial_serial_closed(struct SerialArduino_Instance *_instance){
if (SerialArduino_send_serial_serial_closed_listener != 0x0) SerialArduino_send_serial_serial_closed_listener(_instance);
}
void (*SerialArduino_send_serial_serial_opened_listener)(struct SerialArduino_Instance*)= 0x0;
void register_SerialArduino_send_serial_serial_opened_listener(void (*_listener)(struct SerialArduino_Instance*)){
SerialArduino_send_serial_serial_opened_listener = _listener;
}
void SerialArduino_send_serial_serial_opened(struct SerialArduino_Instance *_instance){
if (SerialArduino_send_serial_serial_opened_listener != 0x0) SerialArduino_send_serial_serial_opened_listener(_instance);
}

/*****************************************************************************
 * Headers for type : OnChangeDigitalInput
 *****************************************************************************/

// Definition of the instance stuct:
struct OnChangeDigitalInput_Instance {
// Variables for the ID of the instance
int id;
// Variables for the current instance state
int OnChangeDigitalInput_OnChangeDigitalInputImpl_State;
int OnChangeDigitalInput_OnChangeDigitalInputImpl_Polling_State;
// Variables for the properties of the instance
};

// Declaration of prototypes outgoing messages:
void OnChangeDigitalInput_OnChangeDigitalInputImpl_OnEntry(int state, struct OnChangeDigitalInput_Instance *_instance);
void OnChangeDigitalInput_handle_DigitalInput_digital_input_value(struct OnChangeDigitalInput_Instance *_instance, uint8_t value);
void OnChangeDigitalInput_handle_Polling_poll(struct OnChangeDigitalInput_Instance *_instance);
// Declaration of callbacks for incomming messages:
void register_OnChangeDigitalInput_send_OnChangeDigitalInput_digital_input_value_listener(void (*_listener)(struct OnChangeDigitalInput_Instance*, uint8_t));
void register_OnChangeDigitalInput_send_DigitalInput_read_digital_input_listener(void (*_listener)(struct OnChangeDigitalInput_Instance*));
void register_OnChangeDigitalInput_send_Polling_poll_listener(void (*_listener)(struct OnChangeDigitalInput_Instance*));
void register_OnChangeDigitalInput_send_Polling_setup_listener(void (*_listener)(struct OnChangeDigitalInput_Instance*));

// Definition of the states:
#define ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_STATE 0
#define ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_LOW_STATE 1
#define ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_HIGH_STATE 2
#define ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_POLLING_POLL_STATE 3
#define ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_POLLING_WAIT_STATE 4

/*****************************************************************************
 * Implementation for type : OnChangeDigitalInput
 *****************************************************************************/

// Declaration of prototypes:
#ifdef EXTERN_C_PROTOTYPES
extern "C" {
#endif
void OnChangeDigitalInput_OnChangeDigitalInputImpl_OnExit(int state, struct OnChangeDigitalInput_Instance *_instance);
void OnChangeDigitalInput_send_OnChangeDigitalInput_digital_input_value(struct OnChangeDigitalInput_Instance *_instance, uint8_t value);
void OnChangeDigitalInput_send_DigitalInput_read_digital_input(struct OnChangeDigitalInput_Instance *_instance);
void OnChangeDigitalInput_send_Polling_poll(struct OnChangeDigitalInput_Instance *_instance);
void OnChangeDigitalInput_send_Polling_setup(struct OnChangeDigitalInput_Instance *_instance);
#ifdef EXTERN_C_PROTOTYPES
}
#endif

// Declaration of functions:

// On Entry Actions:
void OnChangeDigitalInput_OnChangeDigitalInputImpl_OnEntry(int state, struct OnChangeDigitalInput_Instance *_instance) {
switch(state) {
case ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_STATE:
_instance->OnChangeDigitalInput_OnChangeDigitalInputImpl_State = ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_LOW_STATE;
_instance->OnChangeDigitalInput_OnChangeDigitalInputImpl_Polling_State = ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_POLLING_POLL_STATE;
OnChangeDigitalInput_OnChangeDigitalInputImpl_OnEntry(_instance->OnChangeDigitalInput_OnChangeDigitalInputImpl_State, _instance);
OnChangeDigitalInput_OnChangeDigitalInputImpl_OnEntry(_instance->OnChangeDigitalInput_OnChangeDigitalInputImpl_Polling_State, _instance);
break;
case ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_LOW_STATE:
OnChangeDigitalInput_send_OnChangeDigitalInput_digital_input_value(_instance, DIGITALSTATE_LOW);
break;
case ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_HIGH_STATE:
OnChangeDigitalInput_send_OnChangeDigitalInput_digital_input_value(_instance, DIGITALSTATE_HIGH);
break;
case ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_POLLING_POLL_STATE:
break;
case ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_POLLING_WAIT_STATE:
break;
default: break;
}
}

// On Exit Actions:
void OnChangeDigitalInput_OnChangeDigitalInputImpl_OnExit(int state, struct OnChangeDigitalInput_Instance *_instance) {
switch(state) {
case ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_STATE:
OnChangeDigitalInput_OnChangeDigitalInputImpl_OnExit(_instance->OnChangeDigitalInput_OnChangeDigitalInputImpl_State, _instance);
OnChangeDigitalInput_OnChangeDigitalInputImpl_OnExit(_instance->OnChangeDigitalInput_OnChangeDigitalInputImpl_Polling_State, _instance);
break;
case ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_LOW_STATE:
break;
case ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_HIGH_STATE:
break;
case ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_POLLING_POLL_STATE:
break;
case ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_POLLING_WAIT_STATE:
break;
default: break;
}
}

// Event Handlers for incomming messages:
void OnChangeDigitalInput_handle_DigitalInput_digital_input_value(struct OnChangeDigitalInput_Instance *_instance, uint8_t value) {
if (_instance->OnChangeDigitalInput_OnChangeDigitalInputImpl_State == ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_LOW_STATE) {
if (value == DIGITALSTATE_HIGH) {
OnChangeDigitalInput_OnChangeDigitalInputImpl_OnExit(ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_LOW_STATE, _instance);
_instance->OnChangeDigitalInput_OnChangeDigitalInputImpl_State = ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_HIGH_STATE;
OnChangeDigitalInput_OnChangeDigitalInputImpl_OnEntry(ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_HIGH_STATE, _instance);
}
}
else if (_instance->OnChangeDigitalInput_OnChangeDigitalInputImpl_State == ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_HIGH_STATE) {
if (value == DIGITALSTATE_LOW) {
OnChangeDigitalInput_OnChangeDigitalInputImpl_OnExit(ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_HIGH_STATE, _instance);
_instance->OnChangeDigitalInput_OnChangeDigitalInputImpl_State = ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_LOW_STATE;
OnChangeDigitalInput_OnChangeDigitalInputImpl_OnEntry(ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_LOW_STATE, _instance);
}
}
if (_instance->OnChangeDigitalInput_OnChangeDigitalInputImpl_Polling_State == ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_POLLING_WAIT_STATE) {
if (1) {
OnChangeDigitalInput_OnChangeDigitalInputImpl_OnExit(ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_POLLING_WAIT_STATE, _instance);
_instance->OnChangeDigitalInput_OnChangeDigitalInputImpl_Polling_State = ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_POLLING_POLL_STATE;
OnChangeDigitalInput_OnChangeDigitalInputImpl_OnEntry(ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_POLLING_POLL_STATE, _instance);
}
}
}
void OnChangeDigitalInput_handle_Polling_poll(struct OnChangeDigitalInput_Instance *_instance) {
if (_instance->OnChangeDigitalInput_OnChangeDigitalInputImpl_Polling_State == ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_POLLING_POLL_STATE) {
if (1) {
OnChangeDigitalInput_OnChangeDigitalInputImpl_OnExit(ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_POLLING_POLL_STATE, _instance);
_instance->OnChangeDigitalInput_OnChangeDigitalInputImpl_Polling_State = ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_POLLING_WAIT_STATE;
OnChangeDigitalInput_send_DigitalInput_read_digital_input(_instance);
OnChangeDigitalInput_OnChangeDigitalInputImpl_OnEntry(ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_POLLING_WAIT_STATE, _instance);
}
}
}

// Observers for outgoing messages:
void (*OnChangeDigitalInput_send_OnChangeDigitalInput_digital_input_value_listener)(struct OnChangeDigitalInput_Instance*, uint8_t)= 0x0;
void register_OnChangeDigitalInput_send_OnChangeDigitalInput_digital_input_value_listener(void (*_listener)(struct OnChangeDigitalInput_Instance*, uint8_t)){
OnChangeDigitalInput_send_OnChangeDigitalInput_digital_input_value_listener = _listener;
}
void OnChangeDigitalInput_send_OnChangeDigitalInput_digital_input_value(struct OnChangeDigitalInput_Instance *_instance, uint8_t value){
if (OnChangeDigitalInput_send_OnChangeDigitalInput_digital_input_value_listener != 0x0) OnChangeDigitalInput_send_OnChangeDigitalInput_digital_input_value_listener(_instance, value);
}
void (*OnChangeDigitalInput_send_DigitalInput_read_digital_input_listener)(struct OnChangeDigitalInput_Instance*)= 0x0;
void register_OnChangeDigitalInput_send_DigitalInput_read_digital_input_listener(void (*_listener)(struct OnChangeDigitalInput_Instance*)){
OnChangeDigitalInput_send_DigitalInput_read_digital_input_listener = _listener;
}
void OnChangeDigitalInput_send_DigitalInput_read_digital_input(struct OnChangeDigitalInput_Instance *_instance){
if (OnChangeDigitalInput_send_DigitalInput_read_digital_input_listener != 0x0) OnChangeDigitalInput_send_DigitalInput_read_digital_input_listener(_instance);
}
void (*OnChangeDigitalInput_send_Polling_poll_listener)(struct OnChangeDigitalInput_Instance*)= 0x0;
void register_OnChangeDigitalInput_send_Polling_poll_listener(void (*_listener)(struct OnChangeDigitalInput_Instance*)){
OnChangeDigitalInput_send_Polling_poll_listener = _listener;
}
void OnChangeDigitalInput_send_Polling_poll(struct OnChangeDigitalInput_Instance *_instance){
if (OnChangeDigitalInput_send_Polling_poll_listener != 0x0) OnChangeDigitalInput_send_Polling_poll_listener(_instance);
}
void (*OnChangeDigitalInput_send_Polling_setup_listener)(struct OnChangeDigitalInput_Instance*)= 0x0;
void register_OnChangeDigitalInput_send_Polling_setup_listener(void (*_listener)(struct OnChangeDigitalInput_Instance*)){
OnChangeDigitalInput_send_Polling_setup_listener = _listener;
}
void OnChangeDigitalInput_send_Polling_setup(struct OnChangeDigitalInput_Instance *_instance){
if (OnChangeDigitalInput_send_Polling_setup_listener != 0x0) OnChangeDigitalInput_send_Polling_setup_listener(_instance);
}

/*****************************************************************************
 * Headers for type : MessageSerializer
 *****************************************************************************/

// Definition of the instance stuct:
struct MessageSerializer_Instance {
// Variables for the ID of the instance
int id;
// Variables for the current instance state
int MessageSerializer_SerializerBehavior_State;
// Variables for the properties of the instance
uint8_t PacketManager_lengthInteger_var;
uint8_t PacketManager_lengthString_var;
uint8_t PacketManager_lengthUInt16_var;
int PacketManager_MAX_PACKET_SIZE_var;
uint8_t PacketManager_START_BYTE_var;
uint8_t PacketManager_STOP_BYTE_var;
uint8_t PacketManager_ESCAPE_BYTE_var;
int PacketManager_CODE_POSITION_var;
int PacketManager_LENGTH_POSITION_var;
int PacketManager_DATA_POSITION_var;
uint8_t PacketManager_buffer_var[16];
int PacketManager_index_var;
};

// Declaration of prototypes outgoing messages:
void MessageSerializer_SerializerBehavior_OnEntry(int state, struct MessageSerializer_Instance *_instance);
void MessageSerializer_handle_RemoteControl_temperature(struct MessageSerializer_Instance *_instance, uint16_t temp);
void MessageSerializer_handle_RemoteControl_light(struct MessageSerializer_Instance *_instance, uint16_t light);
// Declaration of callbacks for incomming messages:
void register_MessageSerializer_send_serial_serial_tx_listener(void (*_listener)(struct MessageSerializer_Instance*, uint8_t));

// Definition of the states:
#define MESSAGESERIALIZER_SERIALIZERBEHAVIOR_STATE 0
#define MESSAGESERIALIZER_SERIALIZERBEHAVIOR_SERIALIZE_STATE 1

/*****************************************************************************
 * Implementation for type : MessageSerializer
 *****************************************************************************/

// Declaration of prototypes:
#ifdef EXTERN_C_PROTOTYPES
extern "C" {
#endif
void MessageSerializer_SerializerBehavior_OnExit(int state, struct MessageSerializer_Instance *_instance);
void MessageSerializer_send_serial_serial_tx(struct MessageSerializer_Instance *_instance, uint8_t b);
void f_MessageSerializer_serializeInteger(struct MessageSerializer_Instance *_instance, int d);
void f_MessageSerializer_serializeUInt16(struct MessageSerializer_Instance *_instance, uint16_t d);
void f_MessageSerializer_send(struct MessageSerializer_Instance *_instance);
void f_MessageSerializer_setHeader(struct MessageSerializer_Instance *_instance, uint8_t code, uint8_t length);
void f_MessageSerializer_storeByte(struct MessageSerializer_Instance *_instance, uint8_t b);
uint8_t f_MessageSerializer_readByte(struct MessageSerializer_Instance *_instance);
#ifdef EXTERN_C_PROTOTYPES
}
#endif

// Declaration of functions:
// Definition of function serializeInteger
void f_MessageSerializer_serializeInteger(struct MessageSerializer_Instance *_instance, int d) {
{
f_MessageSerializer_storeByte(_instance, (d >> 8) & 0x00ff);
f_MessageSerializer_storeByte(_instance, (d) & 0x00ff);
}
}

// Definition of function serializeUInt16
void f_MessageSerializer_serializeUInt16(struct MessageSerializer_Instance *_instance, uint16_t d) {
{
f_MessageSerializer_storeByte(_instance, (d >> 8) & 0x00ff);
f_MessageSerializer_storeByte(_instance, (d) & 0x00ff);
}
}

// Definition of function send
void f_MessageSerializer_send(struct MessageSerializer_Instance *_instance) {
{
MessageSerializer_send_serial_serial_tx(_instance, _instance->PacketManager_START_BYTE_var);
int stop = _instance->PacketManager_DATA_POSITION_var + _instance->PacketManager_buffer_var[_instance->PacketManager_LENGTH_POSITION_var];
int i = 0;
while(i < stop) {
uint8_t b = _instance->PacketManager_buffer_var[i];
if(b == _instance->PacketManager_START_BYTE_var || b == _instance->PacketManager_STOP_BYTE_var || b == _instance->PacketManager_ESCAPE_BYTE_var) {
MessageSerializer_send_serial_serial_tx(_instance, _instance->PacketManager_ESCAPE_BYTE_var);
}
MessageSerializer_send_serial_serial_tx(_instance, b);
i = i + 1;
}
MessageSerializer_send_serial_serial_tx(_instance, _instance->PacketManager_STOP_BYTE_var);
_instance->PacketManager_index_var = 0;
}
}

// Definition of function setHeader
void f_MessageSerializer_setHeader(struct MessageSerializer_Instance *_instance, uint8_t code, uint8_t length) {
{
_instance->PacketManager_index_var = 0;
f_MessageSerializer_storeByte(_instance, 1);
f_MessageSerializer_storeByte(_instance, 0);
f_MessageSerializer_storeByte(_instance, 0);
_instance->PacketManager_CODE_POSITION_var = _instance->PacketManager_index_var;
f_MessageSerializer_storeByte(_instance, code);
_instance->PacketManager_LENGTH_POSITION_var = _instance->PacketManager_index_var;
f_MessageSerializer_storeByte(_instance, length);
_instance->PacketManager_DATA_POSITION_var = _instance->PacketManager_index_var;
_instance->PacketManager_index_var = _instance->PacketManager_DATA_POSITION_var;
}
}

// Definition of function storeByte
void f_MessageSerializer_storeByte(struct MessageSerializer_Instance *_instance, uint8_t b) {
{
if(_instance->PacketManager_index_var == _instance->PacketManager_MAX_PACKET_SIZE_var) {
// ERROR: ("BUFFER OVERFLOW\n")
}
if(_instance->PacketManager_index_var < _instance->PacketManager_MAX_PACKET_SIZE_var) {
_instance->PacketManager_buffer_var[_instance->PacketManager_index_var] = b;
_instance->PacketManager_index_var = _instance->PacketManager_index_var + 1;
}
}
}

// Definition of function readByte
uint8_t f_MessageSerializer_readByte(struct MessageSerializer_Instance *_instance) {
{
uint8_t b;
if(_instance->PacketManager_index_var < _instance->PacketManager_MAX_PACKET_SIZE_var) {
b = _instance->PacketManager_buffer_var[_instance->PacketManager_index_var];
_instance->PacketManager_index_var = _instance->PacketManager_index_var + 1;
}
if(_instance->PacketManager_index_var == _instance->PacketManager_MAX_PACKET_SIZE_var) {
// ERROR: ("BUFFER OVERFLOW: trying to read out of buffer boundaries")
b = _instance->PacketManager_STOP_BYTE_var;
}
return b;
}
}


// On Entry Actions:
void MessageSerializer_SerializerBehavior_OnEntry(int state, struct MessageSerializer_Instance *_instance) {
switch(state) {
case MESSAGESERIALIZER_SERIALIZERBEHAVIOR_STATE:
_instance->MessageSerializer_SerializerBehavior_State = MESSAGESERIALIZER_SERIALIZERBEHAVIOR_SERIALIZE_STATE;
MessageSerializer_SerializerBehavior_OnEntry(_instance->MessageSerializer_SerializerBehavior_State, _instance);
break;
case MESSAGESERIALIZER_SERIALIZERBEHAVIOR_SERIALIZE_STATE:
break;
default: break;
}
}

// On Exit Actions:
void MessageSerializer_SerializerBehavior_OnExit(int state, struct MessageSerializer_Instance *_instance) {
switch(state) {
case MESSAGESERIALIZER_SERIALIZERBEHAVIOR_STATE:
MessageSerializer_SerializerBehavior_OnExit(_instance->MessageSerializer_SerializerBehavior_State, _instance);
break;
case MESSAGESERIALIZER_SERIALIZERBEHAVIOR_SERIALIZE_STATE:
break;
default: break;
}
}

// Event Handlers for incomming messages:
void MessageSerializer_handle_RemoteControl_temperature(struct MessageSerializer_Instance *_instance, uint16_t temp) {
if (_instance->MessageSerializer_SerializerBehavior_State == MESSAGESERIALIZER_SERIALIZERBEHAVIOR_SERIALIZE_STATE) {
if (1) {
{
f_MessageSerializer_setHeader(_instance, 10, _instance->PacketManager_lengthUInt16_var);
f_MessageSerializer_serializeUInt16(_instance, temp);
f_MessageSerializer_send(_instance);
}
}
}
}
void MessageSerializer_handle_RemoteControl_light(struct MessageSerializer_Instance *_instance, uint16_t light) {
if (_instance->MessageSerializer_SerializerBehavior_State == MESSAGESERIALIZER_SERIALIZERBEHAVIOR_SERIALIZE_STATE) {
if (1) {
{
f_MessageSerializer_setHeader(_instance, 11, _instance->PacketManager_lengthUInt16_var);
f_MessageSerializer_serializeUInt16(_instance, light);
f_MessageSerializer_send(_instance);
}
}
}
}

// Observers for outgoing messages:
void (*MessageSerializer_send_serial_serial_tx_listener)(struct MessageSerializer_Instance*, uint8_t)= 0x0;
void register_MessageSerializer_send_serial_serial_tx_listener(void (*_listener)(struct MessageSerializer_Instance*, uint8_t)){
MessageSerializer_send_serial_serial_tx_listener = _listener;
}
void MessageSerializer_send_serial_serial_tx(struct MessageSerializer_Instance *_instance, uint8_t b){
if (MessageSerializer_send_serial_serial_tx_listener != 0x0) MessageSerializer_send_serial_serial_tx_listener(_instance, b);
}

/*****************************************************************************
 * Headers for type : ArduinoArduino
 *****************************************************************************/


// BEGIN: Code from the c_header annotation ArduinoArduino
#include <EEPROM.h>
// END: Code from the c_header annotation ArduinoArduino

// Definition of the instance stuct:
struct ArduinoArduino_Instance {
// Variables for the ID of the instance
int id;
// Variables for the current instance state
int ArduinoArduino_ArduinoArduino_State;
// Variables for the properties of the instance
};

// Declaration of prototypes outgoing messages:
void ArduinoArduino_ArduinoArduino_OnEntry(int state, struct ArduinoArduino_Instance *_instance);
void ArduinoArduino_handle_Ping_ping(struct ArduinoArduino_Instance *_instance);
void ArduinoArduino_handle_AnalogIO_analog_reference(struct ArduinoArduino_Instance *_instance, uint8_t type);
void ArduinoArduino_handle_AnalogIO_analog_read(struct ArduinoArduino_Instance *_instance, uint8_t pin);
void ArduinoArduino_handle_AnalogIO_analog_write(struct ArduinoArduino_Instance *_instance, uint8_t pin, uint8_t value);
void ArduinoArduino_handle_AdvancedIO_tone(struct ArduinoArduino_Instance *_instance, uint8_t pin, int16_t frequency, int16_t duration);
void ArduinoArduino_handle_AdvancedIO_no_tone(struct ArduinoArduino_Instance *_instance, uint8_t pin);
void ArduinoArduino_handle_DigitalIO_pin_mode(struct ArduinoArduino_Instance *_instance, uint8_t pin, uint8_t mode);
void ArduinoArduino_handle_DigitalIO_digital_read(struct ArduinoArduino_Instance *_instance, uint8_t pin);
void ArduinoArduino_handle_DigitalIO_digital_write(struct ArduinoArduino_Instance *_instance, uint8_t pin, uint8_t value);
void ArduinoArduino_handle_EEPROM_eeprom_sync_write(struct ArduinoArduino_Instance *_instance, int16_t address, int8_t value);
void ArduinoArduino_handle_EEPROM_eeprom_write(struct ArduinoArduino_Instance *_instance, int16_t address, int8_t value);
void ArduinoArduino_handle_EEPROM_eeprom_read(struct ArduinoArduino_Instance *_instance, int16_t address);
// Declaration of callbacks for incomming messages:
void register_ArduinoArduino_send_DigitalIO_digital_read_result_listener(void (*_listener)(struct ArduinoArduino_Instance*, uint8_t, uint8_t));
void register_ArduinoArduino_send_AnalogIO_analog_read_result_listener(void (*_listener)(struct ArduinoArduino_Instance*, uint8_t, int16_t));
void register_ArduinoArduino_send_Ping_pong_listener(void (*_listener)(struct ArduinoArduino_Instance*));
void register_ArduinoArduino_send_EEPROM_eeprom_value_listener(void (*_listener)(struct ArduinoArduino_Instance*, int8_t));
void register_ArduinoArduino_send_EEPROM_eeprom_write_ack_listener(void (*_listener)(struct ArduinoArduino_Instance*));

// Definition of the states:
#define ARDUINOARDUINO_ARDUINOARDUINO_STATE 0
#define ARDUINOARDUINO_ARDUINOARDUINO_RUNNINGARDUINO_STATE 1

/*****************************************************************************
 * Implementation for type : ArduinoArduino
 *****************************************************************************/

// Declaration of prototypes:
#ifdef EXTERN_C_PROTOTYPES
extern "C" {
#endif
void ArduinoArduino_ArduinoArduino_OnExit(int state, struct ArduinoArduino_Instance *_instance);
void ArduinoArduino_send_DigitalIO_digital_read_result(struct ArduinoArduino_Instance *_instance, uint8_t pin, uint8_t value);
void ArduinoArduino_send_AnalogIO_analog_read_result(struct ArduinoArduino_Instance *_instance, uint8_t pin, int16_t value);
void ArduinoArduino_send_Ping_pong(struct ArduinoArduino_Instance *_instance);
void ArduinoArduino_send_EEPROM_eeprom_value(struct ArduinoArduino_Instance *_instance, int8_t value);
void ArduinoArduino_send_EEPROM_eeprom_write_ack(struct ArduinoArduino_Instance *_instance);
#ifdef EXTERN_C_PROTOTYPES
}
#endif

// Declaration of functions:

// On Entry Actions:
void ArduinoArduino_ArduinoArduino_OnEntry(int state, struct ArduinoArduino_Instance *_instance) {
switch(state) {
case ARDUINOARDUINO_ARDUINOARDUINO_STATE:
_instance->ArduinoArduino_ArduinoArduino_State = ARDUINOARDUINO_ARDUINOARDUINO_RUNNINGARDUINO_STATE;
ArduinoArduino_ArduinoArduino_OnEntry(_instance->ArduinoArduino_ArduinoArduino_State, _instance);
break;
case ARDUINOARDUINO_ARDUINOARDUINO_RUNNINGARDUINO_STATE:
break;
default: break;
}
}

// On Exit Actions:
void ArduinoArduino_ArduinoArduino_OnExit(int state, struct ArduinoArduino_Instance *_instance) {
switch(state) {
case ARDUINOARDUINO_ARDUINOARDUINO_STATE:
ArduinoArduino_ArduinoArduino_OnExit(_instance->ArduinoArduino_ArduinoArduino_State, _instance);
break;
case ARDUINOARDUINO_ARDUINOARDUINO_RUNNINGARDUINO_STATE:
break;
default: break;
}
}

// Event Handlers for incomming messages:
void ArduinoArduino_handle_Ping_ping(struct ArduinoArduino_Instance *_instance) {
if (_instance->ArduinoArduino_ArduinoArduino_State == ARDUINOARDUINO_ARDUINOARDUINO_RUNNINGARDUINO_STATE) {
if (1) {
ArduinoArduino_send_Ping_pong(_instance);
}
}
}
void ArduinoArduino_handle_AnalogIO_analog_reference(struct ArduinoArduino_Instance *_instance, uint8_t type) {
if (_instance->ArduinoArduino_ArduinoArduino_State == ARDUINOARDUINO_ARDUINOARDUINO_RUNNINGARDUINO_STATE) {
if (1) {
analogReference(type);
}
}
}
void ArduinoArduino_handle_AnalogIO_analog_read(struct ArduinoArduino_Instance *_instance, uint8_t pin) {
if (_instance->ArduinoArduino_ArduinoArduino_State == ARDUINOARDUINO_ARDUINOARDUINO_RUNNINGARDUINO_STATE) {
if (1) {
ArduinoArduino_send_AnalogIO_analog_read_result(_instance, pin, analogRead(pin));
}
}
}
void ArduinoArduino_handle_AnalogIO_analog_write(struct ArduinoArduino_Instance *_instance, uint8_t pin, uint8_t value) {
if (_instance->ArduinoArduino_ArduinoArduino_State == ARDUINOARDUINO_ARDUINOARDUINO_RUNNINGARDUINO_STATE) {
if (1) {
analogWrite(pin, value);
}
}
}
void ArduinoArduino_handle_AdvancedIO_tone(struct ArduinoArduino_Instance *_instance, uint8_t pin, int16_t frequency, int16_t duration) {
if (_instance->ArduinoArduino_ArduinoArduino_State == ARDUINOARDUINO_ARDUINOARDUINO_RUNNINGARDUINO_STATE) {
if (1) {
tone(pin, frequency, duration);
}
}
}
void ArduinoArduino_handle_AdvancedIO_no_tone(struct ArduinoArduino_Instance *_instance, uint8_t pin) {
if (_instance->ArduinoArduino_ArduinoArduino_State == ARDUINOARDUINO_ARDUINOARDUINO_RUNNINGARDUINO_STATE) {
if (1) {
noTone(pin);
}
}
}
void ArduinoArduino_handle_DigitalIO_pin_mode(struct ArduinoArduino_Instance *_instance, uint8_t pin, uint8_t mode) {
if (_instance->ArduinoArduino_ArduinoArduino_State == ARDUINOARDUINO_ARDUINOARDUINO_RUNNINGARDUINO_STATE) {
if (1) {
pinMode(pin, mode);
}
}
}
void ArduinoArduino_handle_DigitalIO_digital_read(struct ArduinoArduino_Instance *_instance, uint8_t pin) {
if (_instance->ArduinoArduino_ArduinoArduino_State == ARDUINOARDUINO_ARDUINOARDUINO_RUNNINGARDUINO_STATE) {
if (1) {
ArduinoArduino_send_DigitalIO_digital_read_result(_instance, pin, digitalRead(pin));
}
}
}
void ArduinoArduino_handle_DigitalIO_digital_write(struct ArduinoArduino_Instance *_instance, uint8_t pin, uint8_t value) {
if (_instance->ArduinoArduino_ArduinoArduino_State == ARDUINOARDUINO_ARDUINOARDUINO_RUNNINGARDUINO_STATE) {
if (1) {
digitalWrite(pin, value);
}
}
}
void ArduinoArduino_handle_EEPROM_eeprom_sync_write(struct ArduinoArduino_Instance *_instance, int16_t address, int8_t value) {
if (_instance->ArduinoArduino_ArduinoArduino_State == ARDUINOARDUINO_ARDUINOARDUINO_RUNNINGARDUINO_STATE) {
if (1) {
{
EEPROM.write(address, value);
ArduinoArduino_send_EEPROM_eeprom_write_ack(_instance);
}
}
}
}
void ArduinoArduino_handle_EEPROM_eeprom_write(struct ArduinoArduino_Instance *_instance, int16_t address, int8_t value) {
if (_instance->ArduinoArduino_ArduinoArduino_State == ARDUINOARDUINO_ARDUINOARDUINO_RUNNINGARDUINO_STATE) {
if (1) {
EEPROM.write(address, value);
}
}
}
void ArduinoArduino_handle_EEPROM_eeprom_read(struct ArduinoArduino_Instance *_instance, int16_t address) {
if (_instance->ArduinoArduino_ArduinoArduino_State == ARDUINOARDUINO_ARDUINOARDUINO_RUNNINGARDUINO_STATE) {
if (1) {
ArduinoArduino_send_EEPROM_eeprom_value(_instance, EEPROM.read(address));
}
}
}

// Observers for outgoing messages:
void (*ArduinoArduino_send_DigitalIO_digital_read_result_listener)(struct ArduinoArduino_Instance*, uint8_t, uint8_t)= 0x0;
void register_ArduinoArduino_send_DigitalIO_digital_read_result_listener(void (*_listener)(struct ArduinoArduino_Instance*, uint8_t, uint8_t)){
ArduinoArduino_send_DigitalIO_digital_read_result_listener = _listener;
}
void ArduinoArduino_send_DigitalIO_digital_read_result(struct ArduinoArduino_Instance *_instance, uint8_t pin, uint8_t value){
if (ArduinoArduino_send_DigitalIO_digital_read_result_listener != 0x0) ArduinoArduino_send_DigitalIO_digital_read_result_listener(_instance, pin, value);
}
void (*ArduinoArduino_send_AnalogIO_analog_read_result_listener)(struct ArduinoArduino_Instance*, uint8_t, int16_t)= 0x0;
void register_ArduinoArduino_send_AnalogIO_analog_read_result_listener(void (*_listener)(struct ArduinoArduino_Instance*, uint8_t, int16_t)){
ArduinoArduino_send_AnalogIO_analog_read_result_listener = _listener;
}
void ArduinoArduino_send_AnalogIO_analog_read_result(struct ArduinoArduino_Instance *_instance, uint8_t pin, int16_t value){
if (ArduinoArduino_send_AnalogIO_analog_read_result_listener != 0x0) ArduinoArduino_send_AnalogIO_analog_read_result_listener(_instance, pin, value);
}
void (*ArduinoArduino_send_Ping_pong_listener)(struct ArduinoArduino_Instance*)= 0x0;
void register_ArduinoArduino_send_Ping_pong_listener(void (*_listener)(struct ArduinoArduino_Instance*)){
ArduinoArduino_send_Ping_pong_listener = _listener;
}
void ArduinoArduino_send_Ping_pong(struct ArduinoArduino_Instance *_instance){
if (ArduinoArduino_send_Ping_pong_listener != 0x0) ArduinoArduino_send_Ping_pong_listener(_instance);
}
void (*ArduinoArduino_send_EEPROM_eeprom_value_listener)(struct ArduinoArduino_Instance*, int8_t)= 0x0;
void register_ArduinoArduino_send_EEPROM_eeprom_value_listener(void (*_listener)(struct ArduinoArduino_Instance*, int8_t)){
ArduinoArduino_send_EEPROM_eeprom_value_listener = _listener;
}
void ArduinoArduino_send_EEPROM_eeprom_value(struct ArduinoArduino_Instance *_instance, int8_t value){
if (ArduinoArduino_send_EEPROM_eeprom_value_listener != 0x0) ArduinoArduino_send_EEPROM_eeprom_value_listener(_instance, value);
}
void (*ArduinoArduino_send_EEPROM_eeprom_write_ack_listener)(struct ArduinoArduino_Instance*)= 0x0;
void register_ArduinoArduino_send_EEPROM_eeprom_write_ack_listener(void (*_listener)(struct ArduinoArduino_Instance*)){
ArduinoArduino_send_EEPROM_eeprom_write_ack_listener = _listener;
}
void ArduinoArduino_send_EEPROM_eeprom_write_ack(struct ArduinoArduino_Instance *_instance){
if (ArduinoArduino_send_EEPROM_eeprom_write_ack_listener != 0x0) ArduinoArduino_send_EEPROM_eeprom_write_ack_listener(_instance);
}

/*****************************************************************************
 * Headers for type : DigitalInputArduino
 *****************************************************************************/


// BEGIN: Code from the c_header annotation DigitalInputArduino
#include <EEPROM.h>
// END: Code from the c_header annotation DigitalInputArduino

// Definition of the instance stuct:
struct DigitalInputArduino_Instance {
// Variables for the ID of the instance
int id;
// Variables for the current instance state
int DigitalInputArduino_SimpleDigitalInputImpl_State;
// Variables for the properties of the instance
uint8_t DigitalInputArduino_pin_var;
uint8_t DigitalInputArduino_pullup_var;
};

// Declaration of prototypes outgoing messages:
void DigitalInputArduino_SimpleDigitalInputImpl_OnEntry(int state, struct DigitalInputArduino_Instance *_instance);
void DigitalInputArduino_handle_DigitalInput_read_digital_input(struct DigitalInputArduino_Instance *_instance);
void DigitalInputArduino_handle_DigitalIO_digital_read_result(struct DigitalInputArduino_Instance *_instance, uint8_t pin, uint8_t value);
// Declaration of callbacks for incomming messages:
void register_DigitalInputArduino_send_DigitalIO_pin_mode_listener(void (*_listener)(struct DigitalInputArduino_Instance*, uint8_t, uint8_t));
void register_DigitalInputArduino_send_DigitalIO_digital_read_listener(void (*_listener)(struct DigitalInputArduino_Instance*, uint8_t));
void register_DigitalInputArduino_send_DigitalIO_digital_write_listener(void (*_listener)(struct DigitalInputArduino_Instance*, uint8_t, uint8_t));
void register_DigitalInputArduino_send_DigitalInput_digital_input_value_listener(void (*_listener)(struct DigitalInputArduino_Instance*, uint8_t));

// Definition of the states:
#define DIGITALINPUTARDUINO_SIMPLEDIGITALINPUTIMPL_STATE 0
#define DIGITALINPUTARDUINO_SIMPLEDIGITALINPUTIMPL_IDLE_STATE 1
#define DIGITALINPUTARDUINO_SIMPLEDIGITALINPUTIMPL_WAITING_STATE 2

/*****************************************************************************
 * Implementation for type : DigitalInputArduino
 *****************************************************************************/

// Declaration of prototypes:
#ifdef EXTERN_C_PROTOTYPES
extern "C" {
#endif
void DigitalInputArduino_SimpleDigitalInputImpl_OnExit(int state, struct DigitalInputArduino_Instance *_instance);
void DigitalInputArduino_send_DigitalIO_pin_mode(struct DigitalInputArduino_Instance *_instance, uint8_t pin, uint8_t mode);
void DigitalInputArduino_send_DigitalIO_digital_read(struct DigitalInputArduino_Instance *_instance, uint8_t pin);
void DigitalInputArduino_send_DigitalIO_digital_write(struct DigitalInputArduino_Instance *_instance, uint8_t pin, uint8_t value);
void DigitalInputArduino_send_DigitalInput_digital_input_value(struct DigitalInputArduino_Instance *_instance, uint8_t value);
#ifdef EXTERN_C_PROTOTYPES
}
#endif

// Declaration of functions:

// On Entry Actions:
void DigitalInputArduino_SimpleDigitalInputImpl_OnEntry(int state, struct DigitalInputArduino_Instance *_instance) {
switch(state) {
case DIGITALINPUTARDUINO_SIMPLEDIGITALINPUTIMPL_STATE:
_instance->DigitalInputArduino_SimpleDigitalInputImpl_State = DIGITALINPUTARDUINO_SIMPLEDIGITALINPUTIMPL_IDLE_STATE;
{
DigitalInputArduino_send_DigitalIO_pin_mode(_instance, _instance->DigitalInputArduino_pin_var, PINMODE_INPUT);
if(_instance->DigitalInputArduino_pullup_var) DigitalInputArduino_send_DigitalIO_digital_write(_instance, _instance->DigitalInputArduino_pin_var, DIGITALSTATE_HIGH);
}
DigitalInputArduino_SimpleDigitalInputImpl_OnEntry(_instance->DigitalInputArduino_SimpleDigitalInputImpl_State, _instance);
break;
case DIGITALINPUTARDUINO_SIMPLEDIGITALINPUTIMPL_IDLE_STATE:
break;
case DIGITALINPUTARDUINO_SIMPLEDIGITALINPUTIMPL_WAITING_STATE:
break;
default: break;
}
}

// On Exit Actions:
void DigitalInputArduino_SimpleDigitalInputImpl_OnExit(int state, struct DigitalInputArduino_Instance *_instance) {
switch(state) {
case DIGITALINPUTARDUINO_SIMPLEDIGITALINPUTIMPL_STATE:
DigitalInputArduino_SimpleDigitalInputImpl_OnExit(_instance->DigitalInputArduino_SimpleDigitalInputImpl_State, _instance);
break;
case DIGITALINPUTARDUINO_SIMPLEDIGITALINPUTIMPL_IDLE_STATE:
break;
case DIGITALINPUTARDUINO_SIMPLEDIGITALINPUTIMPL_WAITING_STATE:
break;
default: break;
}
}

// Event Handlers for incomming messages:
void DigitalInputArduino_handle_DigitalInput_read_digital_input(struct DigitalInputArduino_Instance *_instance) {
if (_instance->DigitalInputArduino_SimpleDigitalInputImpl_State == DIGITALINPUTARDUINO_SIMPLEDIGITALINPUTIMPL_IDLE_STATE) {
if (1) {
DigitalInputArduino_SimpleDigitalInputImpl_OnExit(DIGITALINPUTARDUINO_SIMPLEDIGITALINPUTIMPL_IDLE_STATE, _instance);
_instance->DigitalInputArduino_SimpleDigitalInputImpl_State = DIGITALINPUTARDUINO_SIMPLEDIGITALINPUTIMPL_WAITING_STATE;
DigitalInputArduino_send_DigitalIO_digital_read(_instance, _instance->DigitalInputArduino_pin_var);
DigitalInputArduino_SimpleDigitalInputImpl_OnEntry(DIGITALINPUTARDUINO_SIMPLEDIGITALINPUTIMPL_WAITING_STATE, _instance);
}
}
}
void DigitalInputArduino_handle_DigitalIO_digital_read_result(struct DigitalInputArduino_Instance *_instance, uint8_t pin, uint8_t value) {
if (_instance->DigitalInputArduino_SimpleDigitalInputImpl_State == DIGITALINPUTARDUINO_SIMPLEDIGITALINPUTIMPL_WAITING_STATE) {
if (pin == _instance->DigitalInputArduino_pin_var) {
DigitalInputArduino_SimpleDigitalInputImpl_OnExit(DIGITALINPUTARDUINO_SIMPLEDIGITALINPUTIMPL_WAITING_STATE, _instance);
_instance->DigitalInputArduino_SimpleDigitalInputImpl_State = DIGITALINPUTARDUINO_SIMPLEDIGITALINPUTIMPL_IDLE_STATE;
DigitalInputArduino_send_DigitalInput_digital_input_value(_instance, value);
DigitalInputArduino_SimpleDigitalInputImpl_OnEntry(DIGITALINPUTARDUINO_SIMPLEDIGITALINPUTIMPL_IDLE_STATE, _instance);
}
}
}

// Observers for outgoing messages:
void (*DigitalInputArduino_send_DigitalIO_pin_mode_listener)(struct DigitalInputArduino_Instance*, uint8_t, uint8_t)= 0x0;
void register_DigitalInputArduino_send_DigitalIO_pin_mode_listener(void (*_listener)(struct DigitalInputArduino_Instance*, uint8_t, uint8_t)){
DigitalInputArduino_send_DigitalIO_pin_mode_listener = _listener;
}
void DigitalInputArduino_send_DigitalIO_pin_mode(struct DigitalInputArduino_Instance *_instance, uint8_t pin, uint8_t mode){
if (DigitalInputArduino_send_DigitalIO_pin_mode_listener != 0x0) DigitalInputArduino_send_DigitalIO_pin_mode_listener(_instance, pin, mode);
}
void (*DigitalInputArduino_send_DigitalIO_digital_read_listener)(struct DigitalInputArduino_Instance*, uint8_t)= 0x0;
void register_DigitalInputArduino_send_DigitalIO_digital_read_listener(void (*_listener)(struct DigitalInputArduino_Instance*, uint8_t)){
DigitalInputArduino_send_DigitalIO_digital_read_listener = _listener;
}
void DigitalInputArduino_send_DigitalIO_digital_read(struct DigitalInputArduino_Instance *_instance, uint8_t pin){
if (DigitalInputArduino_send_DigitalIO_digital_read_listener != 0x0) DigitalInputArduino_send_DigitalIO_digital_read_listener(_instance, pin);
}
void (*DigitalInputArduino_send_DigitalIO_digital_write_listener)(struct DigitalInputArduino_Instance*, uint8_t, uint8_t)= 0x0;
void register_DigitalInputArduino_send_DigitalIO_digital_write_listener(void (*_listener)(struct DigitalInputArduino_Instance*, uint8_t, uint8_t)){
DigitalInputArduino_send_DigitalIO_digital_write_listener = _listener;
}
void DigitalInputArduino_send_DigitalIO_digital_write(struct DigitalInputArduino_Instance *_instance, uint8_t pin, uint8_t value){
if (DigitalInputArduino_send_DigitalIO_digital_write_listener != 0x0) DigitalInputArduino_send_DigitalIO_digital_write_listener(_instance, pin, value);
}
void (*DigitalInputArduino_send_DigitalInput_digital_input_value_listener)(struct DigitalInputArduino_Instance*, uint8_t)= 0x0;
void register_DigitalInputArduino_send_DigitalInput_digital_input_value_listener(void (*_listener)(struct DigitalInputArduino_Instance*, uint8_t)){
DigitalInputArduino_send_DigitalInput_digital_input_value_listener = _listener;
}
void DigitalInputArduino_send_DigitalInput_digital_input_value(struct DigitalInputArduino_Instance *_instance, uint8_t value){
if (DigitalInputArduino_send_DigitalInput_digital_input_value_listener != 0x0) DigitalInputArduino_send_DigitalInput_digital_input_value_listener(_instance, value);
}

/*****************************************************************************
 * Headers for type : LightSensor
 *****************************************************************************/

// Definition of the instance stuct:
struct LightSensor_Instance {
// Variables for the ID of the instance
int id;
// Variables for the current instance state
int LightSensor_LightSensorImpl_State;
// Variables for the properties of the instance
};

// Declaration of prototypes outgoing messages:
void LightSensor_LightSensorImpl_OnEntry(int state, struct LightSensor_Instance *_instance);
void LightSensor_handle_LightSensor_read_light(struct LightSensor_Instance *_instance);
void LightSensor_handle_AnalogInput_analog_input_value(struct LightSensor_Instance *_instance, int16_t value);
// Declaration of callbacks for incomming messages:
void register_LightSensor_send_LightSensor_light_value_listener(void (*_listener)(struct LightSensor_Instance*, uint16_t));
void register_LightSensor_send_AnalogInput_read_analog_input_listener(void (*_listener)(struct LightSensor_Instance*));

// Definition of the states:
#define LIGHTSENSOR_LIGHTSENSORIMPL_STATE 0
#define LIGHTSENSOR_LIGHTSENSORIMPL_RUNNING_STATE 1

/*****************************************************************************
 * Implementation for type : LightSensor
 *****************************************************************************/

// Declaration of prototypes:
#ifdef EXTERN_C_PROTOTYPES
extern "C" {
#endif
void LightSensor_LightSensorImpl_OnExit(int state, struct LightSensor_Instance *_instance);
void LightSensor_send_LightSensor_light_value(struct LightSensor_Instance *_instance, uint16_t val);
void LightSensor_send_AnalogInput_read_analog_input(struct LightSensor_Instance *_instance);
#ifdef EXTERN_C_PROTOTYPES
}
#endif

// Declaration of functions:

// On Entry Actions:
void LightSensor_LightSensorImpl_OnEntry(int state, struct LightSensor_Instance *_instance) {
switch(state) {
case LIGHTSENSOR_LIGHTSENSORIMPL_STATE:
_instance->LightSensor_LightSensorImpl_State = LIGHTSENSOR_LIGHTSENSORIMPL_RUNNING_STATE;
LightSensor_LightSensorImpl_OnEntry(_instance->LightSensor_LightSensorImpl_State, _instance);
break;
case LIGHTSENSOR_LIGHTSENSORIMPL_RUNNING_STATE:
break;
default: break;
}
}

// On Exit Actions:
void LightSensor_LightSensorImpl_OnExit(int state, struct LightSensor_Instance *_instance) {
switch(state) {
case LIGHTSENSOR_LIGHTSENSORIMPL_STATE:
LightSensor_LightSensorImpl_OnExit(_instance->LightSensor_LightSensorImpl_State, _instance);
break;
case LIGHTSENSOR_LIGHTSENSORIMPL_RUNNING_STATE:
break;
default: break;
}
}

// Event Handlers for incomming messages:
void LightSensor_handle_LightSensor_read_light(struct LightSensor_Instance *_instance) {
if (_instance->LightSensor_LightSensorImpl_State == LIGHTSENSOR_LIGHTSENSORIMPL_RUNNING_STATE) {
if (1) {
LightSensor_send_AnalogInput_read_analog_input(_instance);
}
}
}
void LightSensor_handle_AnalogInput_analog_input_value(struct LightSensor_Instance *_instance, int16_t value) {
if (1) {
LightSensor_send_LightSensor_light_value(_instance, value);
}
}

// Observers for outgoing messages:
void (*LightSensor_send_LightSensor_light_value_listener)(struct LightSensor_Instance*, uint16_t)= 0x0;
void register_LightSensor_send_LightSensor_light_value_listener(void (*_listener)(struct LightSensor_Instance*, uint16_t)){
LightSensor_send_LightSensor_light_value_listener = _listener;
}
void LightSensor_send_LightSensor_light_value(struct LightSensor_Instance *_instance, uint16_t val){
if (LightSensor_send_LightSensor_light_value_listener != 0x0) LightSensor_send_LightSensor_light_value_listener(_instance, val);
}
void (*LightSensor_send_AnalogInput_read_analog_input_listener)(struct LightSensor_Instance*)= 0x0;
void register_LightSensor_send_AnalogInput_read_analog_input_listener(void (*_listener)(struct LightSensor_Instance*)){
LightSensor_send_AnalogInput_read_analog_input_listener = _listener;
}
void LightSensor_send_AnalogInput_read_analog_input(struct LightSensor_Instance *_instance){
if (LightSensor_send_AnalogInput_read_analog_input_listener != 0x0) LightSensor_send_AnalogInput_read_analog_input_listener(_instance);
}

/*****************************************************************************
 * Headers for type : OnChangeAnalogInput
 *****************************************************************************/

// Definition of the instance stuct:
struct OnChangeAnalogInput_Instance {
// Variables for the ID of the instance
int id;
// Variables for the current instance state
int OnChangeAnalogInput_OnChangeAnalogInputImpl_State;
// Variables for the properties of the instance
uint8_t OnChangeAnalogInput_refresh_rate_var;
int16_t OnChangeAnalogInput_OnChangeAnalogInputImpl_oldValue_var;
};

// Declaration of prototypes outgoing messages:
void OnChangeAnalogInput_OnChangeAnalogInputImpl_OnEntry(int state, struct OnChangeAnalogInput_Instance *_instance);
void OnChangeAnalogInput_handle_Timer_timer_timeout(struct OnChangeAnalogInput_Instance *_instance);
void OnChangeAnalogInput_handle_AnalogInput_analog_input_value(struct OnChangeAnalogInput_Instance *_instance, int16_t value);
// Declaration of callbacks for incomming messages:
void register_OnChangeAnalogInput_send_OnChangeAnalogInput_analog_input_value_listener(void (*_listener)(struct OnChangeAnalogInput_Instance*, int16_t));
void register_OnChangeAnalogInput_send_Timer_timer_start_listener(void (*_listener)(struct OnChangeAnalogInput_Instance*, int));
void register_OnChangeAnalogInput_send_AnalogInput_read_analog_input_listener(void (*_listener)(struct OnChangeAnalogInput_Instance*));

// Definition of the states:
#define ONCHANGEANALOGINPUT_ONCHANGEANALOGINPUTIMPL_STATE 0
#define ONCHANGEANALOGINPUT_ONCHANGEANALOGINPUTIMPL_RUNNING_STATE 1
#define ONCHANGEANALOGINPUT_ONCHANGEANALOGINPUTIMPL_WAITING_STATE 2

/*****************************************************************************
 * Implementation for type : OnChangeAnalogInput
 *****************************************************************************/

// Declaration of prototypes:
#ifdef EXTERN_C_PROTOTYPES
extern "C" {
#endif
void OnChangeAnalogInput_OnChangeAnalogInputImpl_OnExit(int state, struct OnChangeAnalogInput_Instance *_instance);
void OnChangeAnalogInput_send_OnChangeAnalogInput_analog_input_value(struct OnChangeAnalogInput_Instance *_instance, int16_t value);
void OnChangeAnalogInput_send_Timer_timer_start(struct OnChangeAnalogInput_Instance *_instance, int delay);
void OnChangeAnalogInput_send_AnalogInput_read_analog_input(struct OnChangeAnalogInput_Instance *_instance);
#ifdef EXTERN_C_PROTOTYPES
}
#endif

// Declaration of functions:

// On Entry Actions:
void OnChangeAnalogInput_OnChangeAnalogInputImpl_OnEntry(int state, struct OnChangeAnalogInput_Instance *_instance) {
switch(state) {
case ONCHANGEANALOGINPUT_ONCHANGEANALOGINPUTIMPL_STATE:
_instance->OnChangeAnalogInput_OnChangeAnalogInputImpl_State = ONCHANGEANALOGINPUT_ONCHANGEANALOGINPUTIMPL_RUNNING_STATE;
OnChangeAnalogInput_OnChangeAnalogInputImpl_OnEntry(_instance->OnChangeAnalogInput_OnChangeAnalogInputImpl_State, _instance);
break;
case ONCHANGEANALOGINPUT_ONCHANGEANALOGINPUTIMPL_RUNNING_STATE:
OnChangeAnalogInput_send_Timer_timer_start(_instance, _instance->OnChangeAnalogInput_refresh_rate_var);
break;
case ONCHANGEANALOGINPUT_ONCHANGEANALOGINPUTIMPL_WAITING_STATE:
break;
default: break;
}
}

// On Exit Actions:
void OnChangeAnalogInput_OnChangeAnalogInputImpl_OnExit(int state, struct OnChangeAnalogInput_Instance *_instance) {
switch(state) {
case ONCHANGEANALOGINPUT_ONCHANGEANALOGINPUTIMPL_STATE:
OnChangeAnalogInput_OnChangeAnalogInputImpl_OnExit(_instance->OnChangeAnalogInput_OnChangeAnalogInputImpl_State, _instance);
break;
case ONCHANGEANALOGINPUT_ONCHANGEANALOGINPUTIMPL_RUNNING_STATE:
break;
case ONCHANGEANALOGINPUT_ONCHANGEANALOGINPUTIMPL_WAITING_STATE:
break;
default: break;
}
}

// Event Handlers for incomming messages:
void OnChangeAnalogInput_handle_Timer_timer_timeout(struct OnChangeAnalogInput_Instance *_instance) {
if (_instance->OnChangeAnalogInput_OnChangeAnalogInputImpl_State == ONCHANGEANALOGINPUT_ONCHANGEANALOGINPUTIMPL_RUNNING_STATE) {
if (1) {
OnChangeAnalogInput_OnChangeAnalogInputImpl_OnExit(ONCHANGEANALOGINPUT_ONCHANGEANALOGINPUTIMPL_RUNNING_STATE, _instance);
_instance->OnChangeAnalogInput_OnChangeAnalogInputImpl_State = ONCHANGEANALOGINPUT_ONCHANGEANALOGINPUTIMPL_WAITING_STATE;
OnChangeAnalogInput_send_AnalogInput_read_analog_input(_instance);
OnChangeAnalogInput_OnChangeAnalogInputImpl_OnEntry(ONCHANGEANALOGINPUT_ONCHANGEANALOGINPUTIMPL_WAITING_STATE, _instance);
}
}
}
void OnChangeAnalogInput_handle_AnalogInput_analog_input_value(struct OnChangeAnalogInput_Instance *_instance, int16_t value) {
if (_instance->OnChangeAnalogInput_OnChangeAnalogInputImpl_State == ONCHANGEANALOGINPUT_ONCHANGEANALOGINPUTIMPL_WAITING_STATE) {
if (1) {
OnChangeAnalogInput_OnChangeAnalogInputImpl_OnExit(ONCHANGEANALOGINPUT_ONCHANGEANALOGINPUTIMPL_WAITING_STATE, _instance);
_instance->OnChangeAnalogInput_OnChangeAnalogInputImpl_State = ONCHANGEANALOGINPUT_ONCHANGEANALOGINPUTIMPL_RUNNING_STATE;
{
if( !(value == _instance->OnChangeAnalogInput_OnChangeAnalogInputImpl_oldValue_var)) {
OnChangeAnalogInput_send_OnChangeAnalogInput_analog_input_value(_instance, value);
_instance->OnChangeAnalogInput_OnChangeAnalogInputImpl_oldValue_var = value;
}
}
OnChangeAnalogInput_OnChangeAnalogInputImpl_OnEntry(ONCHANGEANALOGINPUT_ONCHANGEANALOGINPUTIMPL_RUNNING_STATE, _instance);
}
}
}

// Observers for outgoing messages:
void (*OnChangeAnalogInput_send_OnChangeAnalogInput_analog_input_value_listener)(struct OnChangeAnalogInput_Instance*, int16_t)= 0x0;
void register_OnChangeAnalogInput_send_OnChangeAnalogInput_analog_input_value_listener(void (*_listener)(struct OnChangeAnalogInput_Instance*, int16_t)){
OnChangeAnalogInput_send_OnChangeAnalogInput_analog_input_value_listener = _listener;
}
void OnChangeAnalogInput_send_OnChangeAnalogInput_analog_input_value(struct OnChangeAnalogInput_Instance *_instance, int16_t value){
if (OnChangeAnalogInput_send_OnChangeAnalogInput_analog_input_value_listener != 0x0) OnChangeAnalogInput_send_OnChangeAnalogInput_analog_input_value_listener(_instance, value);
}
void (*OnChangeAnalogInput_send_Timer_timer_start_listener)(struct OnChangeAnalogInput_Instance*, int)= 0x0;
void register_OnChangeAnalogInput_send_Timer_timer_start_listener(void (*_listener)(struct OnChangeAnalogInput_Instance*, int)){
OnChangeAnalogInput_send_Timer_timer_start_listener = _listener;
}
void OnChangeAnalogInput_send_Timer_timer_start(struct OnChangeAnalogInput_Instance *_instance, int delay){
if (OnChangeAnalogInput_send_Timer_timer_start_listener != 0x0) OnChangeAnalogInput_send_Timer_timer_start_listener(_instance, delay);
}
void (*OnChangeAnalogInput_send_AnalogInput_read_analog_input_listener)(struct OnChangeAnalogInput_Instance*)= 0x0;
void register_OnChangeAnalogInput_send_AnalogInput_read_analog_input_listener(void (*_listener)(struct OnChangeAnalogInput_Instance*)){
OnChangeAnalogInput_send_AnalogInput_read_analog_input_listener = _listener;
}
void OnChangeAnalogInput_send_AnalogInput_read_analog_input(struct OnChangeAnalogInput_Instance *_instance){
if (OnChangeAnalogInput_send_AnalogInput_read_analog_input_listener != 0x0) OnChangeAnalogInput_send_AnalogInput_read_analog_input_listener(_instance);
}

/*****************************************************************************
 * Headers for type : Button
 *****************************************************************************/

// Definition of the instance stuct:
struct Button_Instance {
// Variables for the ID of the instance
int id;
// Variables for the current instance state
int Button_ButtonImpl_State;
// Variables for the properties of the instance
};

// Declaration of prototypes outgoing messages:
void Button_ButtonImpl_OnEntry(int state, struct Button_Instance *_instance);
void Button_handle_DigitalInput_digital_input_value(struct Button_Instance *_instance, uint8_t value);
// Declaration of callbacks for incomming messages:
void register_Button_send_Button_press_listener(void (*_listener)(struct Button_Instance*));
void register_Button_send_Button_release_listener(void (*_listener)(struct Button_Instance*));

// Definition of the states:
#define BUTTON_BUTTONIMPL_STATE 0
#define BUTTON_BUTTONIMPL_RUNNING_STATE 1

/*****************************************************************************
 * Implementation for type : Button
 *****************************************************************************/

// Declaration of prototypes:
#ifdef EXTERN_C_PROTOTYPES
extern "C" {
#endif
void Button_ButtonImpl_OnExit(int state, struct Button_Instance *_instance);
void Button_send_Button_press(struct Button_Instance *_instance);
void Button_send_Button_release(struct Button_Instance *_instance);
#ifdef EXTERN_C_PROTOTYPES
}
#endif

// Declaration of functions:

// On Entry Actions:
void Button_ButtonImpl_OnEntry(int state, struct Button_Instance *_instance) {
switch(state) {
case BUTTON_BUTTONIMPL_STATE:
_instance->Button_ButtonImpl_State = BUTTON_BUTTONIMPL_RUNNING_STATE;
Button_ButtonImpl_OnEntry(_instance->Button_ButtonImpl_State, _instance);
break;
case BUTTON_BUTTONIMPL_RUNNING_STATE:
break;
default: break;
}
}

// On Exit Actions:
void Button_ButtonImpl_OnExit(int state, struct Button_Instance *_instance) {
switch(state) {
case BUTTON_BUTTONIMPL_STATE:
Button_ButtonImpl_OnExit(_instance->Button_ButtonImpl_State, _instance);
break;
case BUTTON_BUTTONIMPL_RUNNING_STATE:
break;
default: break;
}
}

// Event Handlers for incomming messages:
void Button_handle_DigitalInput_digital_input_value(struct Button_Instance *_instance, uint8_t value) {
if (_instance->Button_ButtonImpl_State == BUTTON_BUTTONIMPL_RUNNING_STATE) {
if (value == DIGITALSTATE_HIGH) {
Button_send_Button_press(_instance);
}
else if (value == DIGITALSTATE_LOW) {
Button_send_Button_release(_instance);
}
}
}

// Observers for outgoing messages:
void (*Button_send_Button_press_listener)(struct Button_Instance*)= 0x0;
void register_Button_send_Button_press_listener(void (*_listener)(struct Button_Instance*)){
Button_send_Button_press_listener = _listener;
}
void Button_send_Button_press(struct Button_Instance *_instance){
if (Button_send_Button_press_listener != 0x0) Button_send_Button_press_listener(_instance);
}
void (*Button_send_Button_release_listener)(struct Button_Instance*)= 0x0;
void register_Button_send_Button_release_listener(void (*_listener)(struct Button_Instance*)){
Button_send_Button_release_listener = _listener;
}
void Button_send_Button_release(struct Button_Instance *_instance){
if (Button_send_Button_release_listener != 0x0) Button_send_Button_release_listener(_instance);
}

/*****************************************************************************
 * Headers for type : DigitalOutputArduino
 *****************************************************************************/


// BEGIN: Code from the c_header annotation DigitalOutputArduino
#include <EEPROM.h>
// END: Code from the c_header annotation DigitalOutputArduino

// Definition of the instance stuct:
struct DigitalOutputArduino_Instance {
// Variables for the ID of the instance
int id;
// Variables for the current instance state
int DigitalOutputArduino_DigitalOutpuImpl_State;
// Variables for the properties of the instance
uint8_t DigitalOutputArduino_pin_var;
};

// Declaration of prototypes outgoing messages:
void DigitalOutputArduino_DigitalOutpuImpl_OnEntry(int state, struct DigitalOutputArduino_Instance *_instance);
void DigitalOutputArduino_handle_DigitalOutput_set_digital_output(struct DigitalOutputArduino_Instance *_instance, uint8_t value);
// Declaration of callbacks for incomming messages:
void register_DigitalOutputArduino_send_DigitalIO_pin_mode_listener(void (*_listener)(struct DigitalOutputArduino_Instance*, uint8_t, uint8_t));
void register_DigitalOutputArduino_send_DigitalIO_digital_write_listener(void (*_listener)(struct DigitalOutputArduino_Instance*, uint8_t, uint8_t));

// Definition of the states:
#define DIGITALOUTPUTARDUINO_DIGITALOUTPUIMPL_STATE 0
#define DIGITALOUTPUTARDUINO_DIGITALOUTPUIMPL_RUNNING_STATE 1

/*****************************************************************************
 * Implementation for type : DigitalOutputArduino
 *****************************************************************************/

// Declaration of prototypes:
#ifdef EXTERN_C_PROTOTYPES
extern "C" {
#endif
void DigitalOutputArduino_DigitalOutpuImpl_OnExit(int state, struct DigitalOutputArduino_Instance *_instance);
void DigitalOutputArduino_send_DigitalIO_pin_mode(struct DigitalOutputArduino_Instance *_instance, uint8_t pin, uint8_t mode);
void DigitalOutputArduino_send_DigitalIO_digital_write(struct DigitalOutputArduino_Instance *_instance, uint8_t pin, uint8_t value);
#ifdef EXTERN_C_PROTOTYPES
}
#endif

// Declaration of functions:

// On Entry Actions:
void DigitalOutputArduino_DigitalOutpuImpl_OnEntry(int state, struct DigitalOutputArduino_Instance *_instance) {
switch(state) {
case DIGITALOUTPUTARDUINO_DIGITALOUTPUIMPL_STATE:
_instance->DigitalOutputArduino_DigitalOutpuImpl_State = DIGITALOUTPUTARDUINO_DIGITALOUTPUIMPL_RUNNING_STATE;
DigitalOutputArduino_send_DigitalIO_pin_mode(_instance, _instance->DigitalOutputArduino_pin_var, PINMODE_OUTPUT);
DigitalOutputArduino_DigitalOutpuImpl_OnEntry(_instance->DigitalOutputArduino_DigitalOutpuImpl_State, _instance);
break;
case DIGITALOUTPUTARDUINO_DIGITALOUTPUIMPL_RUNNING_STATE:
break;
default: break;
}
}

// On Exit Actions:
void DigitalOutputArduino_DigitalOutpuImpl_OnExit(int state, struct DigitalOutputArduino_Instance *_instance) {
switch(state) {
case DIGITALOUTPUTARDUINO_DIGITALOUTPUIMPL_STATE:
DigitalOutputArduino_DigitalOutpuImpl_OnExit(_instance->DigitalOutputArduino_DigitalOutpuImpl_State, _instance);
break;
case DIGITALOUTPUTARDUINO_DIGITALOUTPUIMPL_RUNNING_STATE:
break;
default: break;
}
}

// Event Handlers for incomming messages:
void DigitalOutputArduino_handle_DigitalOutput_set_digital_output(struct DigitalOutputArduino_Instance *_instance, uint8_t value) {
if (_instance->DigitalOutputArduino_DigitalOutpuImpl_State == DIGITALOUTPUTARDUINO_DIGITALOUTPUIMPL_RUNNING_STATE) {
if (1) {
DigitalOutputArduino_send_DigitalIO_digital_write(_instance, _instance->DigitalOutputArduino_pin_var, value);
}
}
}

// Observers for outgoing messages:
void (*DigitalOutputArduino_send_DigitalIO_pin_mode_listener)(struct DigitalOutputArduino_Instance*, uint8_t, uint8_t)= 0x0;
void register_DigitalOutputArduino_send_DigitalIO_pin_mode_listener(void (*_listener)(struct DigitalOutputArduino_Instance*, uint8_t, uint8_t)){
DigitalOutputArduino_send_DigitalIO_pin_mode_listener = _listener;
}
void DigitalOutputArduino_send_DigitalIO_pin_mode(struct DigitalOutputArduino_Instance *_instance, uint8_t pin, uint8_t mode){
if (DigitalOutputArduino_send_DigitalIO_pin_mode_listener != 0x0) DigitalOutputArduino_send_DigitalIO_pin_mode_listener(_instance, pin, mode);
}
void (*DigitalOutputArduino_send_DigitalIO_digital_write_listener)(struct DigitalOutputArduino_Instance*, uint8_t, uint8_t)= 0x0;
void register_DigitalOutputArduino_send_DigitalIO_digital_write_listener(void (*_listener)(struct DigitalOutputArduino_Instance*, uint8_t, uint8_t)){
DigitalOutputArduino_send_DigitalIO_digital_write_listener = _listener;
}
void DigitalOutputArduino_send_DigitalIO_digital_write(struct DigitalOutputArduino_Instance *_instance, uint8_t pin, uint8_t value){
if (DigitalOutputArduino_send_DigitalIO_digital_write_listener != 0x0) DigitalOutputArduino_send_DigitalIO_digital_write_listener(_instance, pin, value);
}

/*****************************************************************************
 * Headers for type : TemperatureSensor
 *****************************************************************************/


// BEGIN: Code from the c_header annotation TemperatureSensor
#include <math.h>
// END: Code from the c_header annotation TemperatureSensor

// Definition of the instance stuct:
struct TemperatureSensor_Instance {
// Variables for the ID of the instance
int id;
// Variables for the current instance state
int TemperatureSensor_TempSensorImpl_State;
// Variables for the properties of the instance
int16_t TemperatureSensor_temp_var;
};

// Declaration of prototypes outgoing messages:
void TemperatureSensor_TempSensorImpl_OnEntry(int state, struct TemperatureSensor_Instance *_instance);
void TemperatureSensor_handle_TemperatureSensor_read_temperature(struct TemperatureSensor_Instance *_instance);
void TemperatureSensor_handle_AnalogInput_analog_input_value(struct TemperatureSensor_Instance *_instance, int16_t value);
// Declaration of callbacks for incomming messages:
void register_TemperatureSensor_send_TemperatureSensor_temperature_value_listener(void (*_listener)(struct TemperatureSensor_Instance*, int16_t));
void register_TemperatureSensor_send_AnalogInput_read_analog_input_listener(void (*_listener)(struct TemperatureSensor_Instance*));

// Definition of the states:
#define TEMPERATURESENSOR_TEMPSENSORIMPL_STATE 0
#define TEMPERATURESENSOR_TEMPSENSORIMPL_RUNNING_STATE 1
#define TEMPERATURESENSOR_TEMPSENSORIMPL_READ_STATE 2

/*****************************************************************************
 * Implementation for type : TemperatureSensor
 *****************************************************************************/

// Declaration of prototypes:
#ifdef EXTERN_C_PROTOTYPES
extern "C" {
#endif
void TemperatureSensor_TempSensorImpl_OnExit(int state, struct TemperatureSensor_Instance *_instance);
void TemperatureSensor_send_TemperatureSensor_temperature_value(struct TemperatureSensor_Instance *_instance, int16_t val);
void TemperatureSensor_send_AnalogInput_read_analog_input(struct TemperatureSensor_Instance *_instance);
int16_t f_TemperatureSensor_convertTemperature(struct TemperatureSensor_Instance *_instance, int16_t adc);
#ifdef EXTERN_C_PROTOTYPES
}
#endif

// Declaration of functions:
// Definition of function convertTemperature
int16_t f_TemperatureSensor_convertTemperature(struct TemperatureSensor_Instance *_instance, int16_t adc) {
{
double tmp;
tmp = log((10240000 / adc) - 10000);
tmp = 1 / (0.001129148 + (0.000234125 + (0.0000000876741 * tmp * tmp)) * tmp);
tmp = tmp - 273.15;
return (int)tmp;
}
}


// On Entry Actions:
void TemperatureSensor_TempSensorImpl_OnEntry(int state, struct TemperatureSensor_Instance *_instance) {
switch(state) {
case TEMPERATURESENSOR_TEMPSENSORIMPL_STATE:
_instance->TemperatureSensor_TempSensorImpl_State = TEMPERATURESENSOR_TEMPSENSORIMPL_READ_STATE;
TemperatureSensor_TempSensorImpl_OnEntry(_instance->TemperatureSensor_TempSensorImpl_State, _instance);
break;
case TEMPERATURESENSOR_TEMPSENSORIMPL_RUNNING_STATE:
break;
case TEMPERATURESENSOR_TEMPSENSORIMPL_READ_STATE:
break;
default: break;
}
}

// On Exit Actions:
void TemperatureSensor_TempSensorImpl_OnExit(int state, struct TemperatureSensor_Instance *_instance) {
switch(state) {
case TEMPERATURESENSOR_TEMPSENSORIMPL_STATE:
TemperatureSensor_TempSensorImpl_OnExit(_instance->TemperatureSensor_TempSensorImpl_State, _instance);
break;
case TEMPERATURESENSOR_TEMPSENSORIMPL_RUNNING_STATE:
break;
case TEMPERATURESENSOR_TEMPSENSORIMPL_READ_STATE:
break;
default: break;
}
}

// Event Handlers for incomming messages:
void TemperatureSensor_handle_TemperatureSensor_read_temperature(struct TemperatureSensor_Instance *_instance) {
if (_instance->TemperatureSensor_TempSensorImpl_State == TEMPERATURESENSOR_TEMPSENSORIMPL_RUNNING_STATE) {
if (1) {
TemperatureSensor_TempSensorImpl_OnExit(TEMPERATURESENSOR_TEMPSENSORIMPL_RUNNING_STATE, _instance);
_instance->TemperatureSensor_TempSensorImpl_State = TEMPERATURESENSOR_TEMPSENSORIMPL_READ_STATE;
TemperatureSensor_send_AnalogInput_read_analog_input(_instance);
TemperatureSensor_TempSensorImpl_OnEntry(TEMPERATURESENSOR_TEMPSENSORIMPL_READ_STATE, _instance);
}
}
}
void TemperatureSensor_handle_AnalogInput_analog_input_value(struct TemperatureSensor_Instance *_instance, int16_t value) {
if (_instance->TemperatureSensor_TempSensorImpl_State == TEMPERATURESENSOR_TEMPSENSORIMPL_RUNNING_STATE) {
if (1) {
{
TemperatureSensor_send_TemperatureSensor_temperature_value(_instance, (_instance->TemperatureSensor_temp_var + f_TemperatureSensor_convertTemperature(_instance, value)) / 2);
_instance->TemperatureSensor_temp_var = f_TemperatureSensor_convertTemperature(_instance, value);
}
}
}
else if (_instance->TemperatureSensor_TempSensorImpl_State == TEMPERATURESENSOR_TEMPSENSORIMPL_READ_STATE) {
if (1) {
TemperatureSensor_TempSensorImpl_OnExit(TEMPERATURESENSOR_TEMPSENSORIMPL_READ_STATE, _instance);
_instance->TemperatureSensor_TempSensorImpl_State = TEMPERATURESENSOR_TEMPSENSORIMPL_RUNNING_STATE;
{
_instance->TemperatureSensor_temp_var = f_TemperatureSensor_convertTemperature(_instance, value);
TemperatureSensor_send_TemperatureSensor_temperature_value(_instance, f_TemperatureSensor_convertTemperature(_instance, value));
}
TemperatureSensor_TempSensorImpl_OnEntry(TEMPERATURESENSOR_TEMPSENSORIMPL_RUNNING_STATE, _instance);
}
}
}

// Observers for outgoing messages:
void (*TemperatureSensor_send_TemperatureSensor_temperature_value_listener)(struct TemperatureSensor_Instance*, int16_t)= 0x0;
void register_TemperatureSensor_send_TemperatureSensor_temperature_value_listener(void (*_listener)(struct TemperatureSensor_Instance*, int16_t)){
TemperatureSensor_send_TemperatureSensor_temperature_value_listener = _listener;
}
void TemperatureSensor_send_TemperatureSensor_temperature_value(struct TemperatureSensor_Instance *_instance, int16_t val){
if (TemperatureSensor_send_TemperatureSensor_temperature_value_listener != 0x0) TemperatureSensor_send_TemperatureSensor_temperature_value_listener(_instance, val);
}
void (*TemperatureSensor_send_AnalogInput_read_analog_input_listener)(struct TemperatureSensor_Instance*)= 0x0;
void register_TemperatureSensor_send_AnalogInput_read_analog_input_listener(void (*_listener)(struct TemperatureSensor_Instance*)){
TemperatureSensor_send_AnalogInput_read_analog_input_listener = _listener;
}
void TemperatureSensor_send_AnalogInput_read_analog_input(struct TemperatureSensor_Instance *_instance){
if (TemperatureSensor_send_AnalogInput_read_analog_input_listener != 0x0) TemperatureSensor_send_AnalogInput_read_analog_input_listener(_instance);
}

/*****************************************************************************
 * Headers for type : LcdScreen
 *****************************************************************************/


// BEGIN: Code from the c_header annotation LcdScreen


#include <LiquidCrystal.h>

# define MAX_DISPLAY 10
# define MAX_LENGHT_TITLE 15
# define MAX_LENGHT_UNIT 5

LiquidCrystal lcd (10, 11, 12, 13, 14, 15, 16); 
//LiquidCrystal lcd(2, 3, 4, 5, 6, 7);

void lcd_init ()  
{ 
  // initialize the library with the numbers of the interface pins
  //LiquidCrystal lcd (pin1, pin2, pin3, pin4, pin5, pin6, pin7); 
  lcd.begin (16, 2);
} 

void bar_char_conf () 
{
  byte left_empty[8] = {B11111, B10000, B10000, B10000, B10000, B10000, B10000, B11111};
  byte left_full[8] = {B11111, B10000, B10111, B10111, B10111, B10111, B10000, B11111};
  byte right_empty[8] = {B11111, B1, B1, B1, B1, B1, B1, B11111};
  byte right_full[8] = {B11111, B00001, B11101, B11101, B11101, B11101, B00001, B11111};
  byte empty[8] = {B11111, B0, B0, B0, B0, B0, B0, B11111};
  byte full[8] = {B11111, B0, B11111, B11111, B11111, B11111, B0, B11111};
  lcd.createChar(0, left_empty);
  lcd.createChar(1, right_empty);
  lcd.createChar(2, left_full);
  lcd.createChar(3, right_full);
  lcd.createChar(4, empty);
  lcd.createChar(5, full);
}

void adv_bar_char_conf () 
{
  byte empty[8] = {B11111, B0, B0, B0, B0, B0, B0, B11111};
  byte full_1[8] = {B11111, B00000, B10000, B10000, B10000, B10000, B00000, B11111};
  byte full_2[8] = {B11111, B00000, B11000, B11000, B11000, B11000, B00000, B11111};
  byte full_3[8] = {B11111, B00000, B11100, B11100, B11100, B11100, B00000, B11111};
  byte full_4[8] = {B11111, B00000, B11110, B11110, B11110, B11110, B00000, B11111};
  byte full_5[8] = {B11111, B0, B11111, B11111, B11111, B11111, B0, B11111};
  lcd.createChar(0, empty);
  lcd.createChar(1, full_1);
  lcd.createChar(2, full_2);
  lcd.createChar(3, full_3);
  lcd.createChar(4, full_4);
  lcd.createChar(5, full_5);
}

unsigned short digits_counter (int d) 
{
  int count = 10;
  unsigned short digits = 1;
  for (short i = 0; i < 5; i++, count = count * 10, digits ++)
    if (d < count)
      break;
  return digits;
}

struct sensor_display_ 
{
  unsigned short id; 
  char title[MAX_LENGHT_TITLE];
  char unit[MAX_LENGHT_UNIT];
  int min_value; 
  int max_value;
  char top_display[16];
  char bottom_display[16];
};

sensor_display_ sensor_display[MAX_DISPLAY];

struct sensor_display_ * progressbar_display_refresh (struct sensor_display_ * disp, int value)
{
  // Fill the bottom screen buffer with special code caracters.
  short index = map (value, disp->min_value, disp->max_value, 0, 16);  
  disp->bottom_display[0] = 0; // Left empty code.
  disp->bottom_display[15] = 1; // Right empty code.
  for (short i = 1; i < 15; i++)
    disp->bottom_display[i] = 4; // Mid empty code.
  for (short i = 0; i < index; i++) 
    {
      if (i == 0)
	disp->bottom_display[0] = 2; // Left full code.
      else if (i == 15)
	disp->bottom_display[15] = 3; // Right full code.
      else
	disp->bottom_display[i] = 5; // Mid full code.
    }
  return disp;
}

struct sensor_display_ * lcd_display_init (unsigned short id, char * title, char * unit, int init_value, int min_value, int max_value) 
{  
  bar_char_conf (); // Custom caracteres declaration.

  // Initialize a free display according to parameters.
  sensor_display_ * disp = &sensor_display[id]; 
  disp->id = id;
  strcpy (disp->title, title);
  strcpy (disp->unit, unit);
  disp->min_value = min_value;
  disp->max_value = max_value;

  // Fill the top screen buffer.
    if (init_value > disp->max_value)
    strcpy (disp->top_display, "-XXX-");
  else
  {
      strcpy (disp->top_display, strcat (strcat (disp->top_display, disp->title), ": "));
      for (int i = 0; i < digits_counter (max_value) - digits_counter (init_value); i ++)
        strcat (disp->top_display, " ");
      char char_val[digits_counter (disp->max_value) + 1];
      strcat (disp->top_display, itoa (init_value, char_val, 10));
      strcat (disp->top_display, unit);
  } 
  
  progressbar_display_refresh (disp, init_value);
  
  return disp;
}

struct sensor_display_ * lcd_display_refresh (unsigned short id, int value)
{
    struct sensor_display_ * disp = &sensor_display[id];
  // Not optimized.
  
  if (value > disp->max_value)
    strcpy (disp->top_display, "-XXX-");
  
  else
  {
      // Fill the top screen buffer.
      strcpy (disp->top_display, "");
      strcat (strcat (disp->top_display, disp->title), ": ");
      for (int i = 0; i < digits_counter (disp->max_value) - digits_counter (value); i ++)
        strcat (disp->top_display, " ");
      char char_val[digits_counter (disp->max_value) + 1];
      strcat (disp->top_display, itoa (value, char_val, 10));
      strcat (disp->top_display, disp->unit); 
      
      progressbar_display_refresh (disp, value);
  }  
  return disp;
}

void sensor_print_fullscreen (unsigned short id)
{
  struct sensor_display_ * disp = &sensor_display[id];
  lcd.clear ();
  lcd.setCursor (0, 0);
  lcd.print (disp->top_display); 
  lcd.setCursor(0, 1);
  for (short i = 0; i < 16; i ++)
    lcd.write(disp->bottom_display[i]);
}


// END: Code from the c_header annotation LcdScreen

// Definition of the instance stuct:
struct LcdScreen_Instance {
// Variables for the ID of the instance
int id;
// Variables for the current instance state
int LcdScreen_LcdScreenImp_State;
// Variables for the properties of the instance
uint8_t LcdScreen_maxDisplay_var;
uint8_t LcdScreen_maxLengthTitle_var;
uint8_t LcdScreen_maxLengthUnit_var;
int8_t LcdScreen_currentDisplay_var;
};

// Declaration of prototypes outgoing messages:
void LcdScreen_LcdScreenImp_OnEntry(int state, struct LcdScreen_Instance *_instance);
void LcdScreen_handle_Display_refreshDisplay(struct LcdScreen_Instance *_instance, uint8_t id, int value);
void LcdScreen_handle_Display_initDisplay(struct LcdScreen_Instance *_instance, uint8_t id, char * title, char * unit, int initValue, int minValue, int maxValue);
void LcdScreen_handle_Display_setDisplay(struct LcdScreen_Instance *_instance, uint8_t id);
// Declaration of callbacks for incomming messages:
void register_LcdScreen_send_Display_currentDisplay_listener(void (*_listener)(struct LcdScreen_Instance*, uint8_t));

// Definition of the states:
#define LCDSCREEN_LCDSCREENIMP_STATE 0
#define LCDSCREEN_LCDSCREENIMP_RUNNING_STATE 1

/*****************************************************************************
 * Implementation for type : LcdScreen
 *****************************************************************************/

// Declaration of prototypes:
#ifdef EXTERN_C_PROTOTYPES
extern "C" {
#endif
void LcdScreen_LcdScreenImp_OnExit(int state, struct LcdScreen_Instance *_instance);
void LcdScreen_send_Display_currentDisplay(struct LcdScreen_Instance *_instance, uint8_t id);
#ifdef EXTERN_C_PROTOTYPES
}
#endif

// Declaration of functions:

// On Entry Actions:
void LcdScreen_LcdScreenImp_OnEntry(int state, struct LcdScreen_Instance *_instance) {
switch(state) {
case LCDSCREEN_LCDSCREENIMP_STATE:
_instance->LcdScreen_LcdScreenImp_State = LCDSCREEN_LCDSCREENIMP_RUNNING_STATE;
lcd_init ();
LcdScreen_LcdScreenImp_OnEntry(_instance->LcdScreen_LcdScreenImp_State, _instance);
break;
case LCDSCREEN_LCDSCREENIMP_RUNNING_STATE:
break;
default: break;
}
}

// On Exit Actions:
void LcdScreen_LcdScreenImp_OnExit(int state, struct LcdScreen_Instance *_instance) {
switch(state) {
case LCDSCREEN_LCDSCREENIMP_STATE:
LcdScreen_LcdScreenImp_OnExit(_instance->LcdScreen_LcdScreenImp_State, _instance);
break;
case LCDSCREEN_LCDSCREENIMP_RUNNING_STATE:
break;
default: break;
}
}

// Event Handlers for incomming messages:
void LcdScreen_handle_Display_refreshDisplay(struct LcdScreen_Instance *_instance, uint8_t id, int value) {
if (_instance->LcdScreen_LcdScreenImp_State == LCDSCREEN_LCDSCREENIMP_RUNNING_STATE) {
if (1) {
{
lcd_display_refresh (id, value);
if(_instance->LcdScreen_currentDisplay_var == id) sensor_print_fullscreen (id);
}
}
}
}
void LcdScreen_handle_Display_initDisplay(struct LcdScreen_Instance *_instance, uint8_t id, char * title, char * unit, int initValue, int minValue, int maxValue) {
if (_instance->LcdScreen_LcdScreenImp_State == LCDSCREEN_LCDSCREENIMP_RUNNING_STATE) {
if (1) {
lcd_display_init (id, title, unit, initValue, minValue, maxValue);
}
}
}
void LcdScreen_handle_Display_setDisplay(struct LcdScreen_Instance *_instance, uint8_t id) {
if (_instance->LcdScreen_LcdScreenImp_State == LCDSCREEN_LCDSCREENIMP_RUNNING_STATE) {
if (1) {
{
sensor_print_fullscreen (id);
_instance->LcdScreen_currentDisplay_var = id;
}
}
}
}

// Observers for outgoing messages:
void (*LcdScreen_send_Display_currentDisplay_listener)(struct LcdScreen_Instance*, uint8_t)= 0x0;
void register_LcdScreen_send_Display_currentDisplay_listener(void (*_listener)(struct LcdScreen_Instance*, uint8_t)){
LcdScreen_send_Display_currentDisplay_listener = _listener;
}
void LcdScreen_send_Display_currentDisplay(struct LcdScreen_Instance *_instance, uint8_t id){
if (LcdScreen_send_Display_currentDisplay_listener != 0x0) LcdScreen_send_Display_currentDisplay_listener(_instance, id);
}

/*****************************************************************************
 * Headers for type : LedUC
 *****************************************************************************/

// Definition of the instance stuct:
struct LedUC_Instance {
// Variables for the ID of the instance
int id;
// Variables for the current instance state
int LedUC_LedImpl_State;
// Variables for the properties of the instance
};

// Declaration of prototypes outgoing messages:
void LedUC_LedImpl_OnEntry(int state, struct LedUC_Instance *_instance);
void LedUC_handle_Led_led_off(struct LedUC_Instance *_instance);
void LedUC_handle_Led_led_toggle(struct LedUC_Instance *_instance);
void LedUC_handle_Led_led_on(struct LedUC_Instance *_instance);
// Declaration of callbacks for incomming messages:
void register_LedUC_send_DigitalOutput_set_digital_output_listener(void (*_listener)(struct LedUC_Instance*, uint8_t));

// Definition of the states:
#define LEDUC_LEDIMPL_STATE 0
#define LEDUC_LEDIMPL_LEDOFF_STATE 1
#define LEDUC_LEDIMPL_LEDON_STATE 2

/*****************************************************************************
 * Implementation for type : LedUC
 *****************************************************************************/

// Declaration of prototypes:
#ifdef EXTERN_C_PROTOTYPES
extern "C" {
#endif
void LedUC_LedImpl_OnExit(int state, struct LedUC_Instance *_instance);
void LedUC_send_DigitalOutput_set_digital_output(struct LedUC_Instance *_instance, uint8_t value);
#ifdef EXTERN_C_PROTOTYPES
}
#endif

// Declaration of functions:

// On Entry Actions:
void LedUC_LedImpl_OnEntry(int state, struct LedUC_Instance *_instance) {
switch(state) {
case LEDUC_LEDIMPL_STATE:
_instance->LedUC_LedImpl_State = LEDUC_LEDIMPL_LEDOFF_STATE;
LedUC_LedImpl_OnEntry(_instance->LedUC_LedImpl_State, _instance);
break;
case LEDUC_LEDIMPL_LEDOFF_STATE:
LedUC_send_DigitalOutput_set_digital_output(_instance, DIGITALSTATE_LOW);
break;
case LEDUC_LEDIMPL_LEDON_STATE:
LedUC_send_DigitalOutput_set_digital_output(_instance, DIGITALSTATE_HIGH);
break;
default: break;
}
}

// On Exit Actions:
void LedUC_LedImpl_OnExit(int state, struct LedUC_Instance *_instance) {
switch(state) {
case LEDUC_LEDIMPL_STATE:
LedUC_LedImpl_OnExit(_instance->LedUC_LedImpl_State, _instance);
break;
case LEDUC_LEDIMPL_LEDOFF_STATE:
break;
case LEDUC_LEDIMPL_LEDON_STATE:
break;
default: break;
}
}

// Event Handlers for incomming messages:
void LedUC_handle_Led_led_off(struct LedUC_Instance *_instance) {
if (_instance->LedUC_LedImpl_State == LEDUC_LEDIMPL_LEDON_STATE) {
if (1) {
LedUC_LedImpl_OnExit(LEDUC_LEDIMPL_LEDON_STATE, _instance);
_instance->LedUC_LedImpl_State = LEDUC_LEDIMPL_LEDOFF_STATE;
LedUC_LedImpl_OnEntry(LEDUC_LEDIMPL_LEDOFF_STATE, _instance);
}
}
}
void LedUC_handle_Led_led_toggle(struct LedUC_Instance *_instance) {
if (_instance->LedUC_LedImpl_State == LEDUC_LEDIMPL_LEDOFF_STATE) {
if (1) {
LedUC_LedImpl_OnExit(LEDUC_LEDIMPL_LEDOFF_STATE, _instance);
_instance->LedUC_LedImpl_State = LEDUC_LEDIMPL_LEDON_STATE;
LedUC_LedImpl_OnEntry(LEDUC_LEDIMPL_LEDON_STATE, _instance);
}
}
else if (_instance->LedUC_LedImpl_State == LEDUC_LEDIMPL_LEDON_STATE) {
if (1) {
LedUC_LedImpl_OnExit(LEDUC_LEDIMPL_LEDON_STATE, _instance);
_instance->LedUC_LedImpl_State = LEDUC_LEDIMPL_LEDOFF_STATE;
LedUC_LedImpl_OnEntry(LEDUC_LEDIMPL_LEDOFF_STATE, _instance);
}
}
}
void LedUC_handle_Led_led_on(struct LedUC_Instance *_instance) {
if (_instance->LedUC_LedImpl_State == LEDUC_LEDIMPL_LEDOFF_STATE) {
if (1) {
LedUC_LedImpl_OnExit(LEDUC_LEDIMPL_LEDOFF_STATE, _instance);
_instance->LedUC_LedImpl_State = LEDUC_LEDIMPL_LEDON_STATE;
LedUC_LedImpl_OnEntry(LEDUC_LEDIMPL_LEDON_STATE, _instance);
}
}
}

// Observers for outgoing messages:
void (*LedUC_send_DigitalOutput_set_digital_output_listener)(struct LedUC_Instance*, uint8_t)= 0x0;
void register_LedUC_send_DigitalOutput_set_digital_output_listener(void (*_listener)(struct LedUC_Instance*, uint8_t)){
LedUC_send_DigitalOutput_set_digital_output_listener = _listener;
}
void LedUC_send_DigitalOutput_set_digital_output(struct LedUC_Instance *_instance, uint8_t value){
if (LedUC_send_DigitalOutput_set_digital_output_listener != 0x0) LedUC_send_DigitalOutput_set_digital_output_listener(_instance, value);
}


/*****************************************************************************
 * Definitions for configuration : ArduinoNode
 *****************************************************************************/

#define MAX_INSTANCES 32
#define FIFO_SIZE 256

/*********************************
 * Instance IDs and lookup
 *********************************/

void * instances[MAX_INSTANCES];
uint16_t instances_count = 0;

void * instance_by_id(uint16_t id) {
  return instances[id];
}

uint16_t add_instance(void * instance_struct) {
  instances[instances_count] = instance_struct;
  return instances_count++;
}

/******************************************
 * Simple byte FIFO implementation
 ******************************************/

byte fifo[FIFO_SIZE];
int fifo_head = 0;
int fifo_tail = 0;

// Returns the number of byte currently in the fifo
int fifo_byte_length() {
  if (fifo_tail >= fifo_head)
    return fifo_tail - fifo_head;
  return fifo_tail + FIFO_SIZE - fifo_head;
}

// Returns the number of bytes currently available in the fifo
int fifo_byte_available() {
  return FIFO_SIZE - 1 - fifo_byte_length();
}

// Returns true if the fifo is empty
int fifo_empty() {
  return fifo_head == fifo_tail;
}

// Return true if the fifo is full
int fifo_full() {
  return fifo_head == ((fifo_tail + 1) % FIFO_SIZE);
}

// Enqueue 1 byte in the fifo if there is space
// returns 1 for sucess and 0 if the fifo was full
int fifo_enqueue(byte b) {
  int new_tail = (fifo_tail + 1) % FIFO_SIZE;
  if (new_tail == fifo_head) return 0; // the fifo is full
  fifo[fifo_tail] = b;
  fifo_tail = new_tail;
  return 1;
}

// Enqueue 1 byte in the fifo without checking for available space
// The caller should have checked that there is enough space
int _fifo_enqueue(byte b) {
  fifo[fifo_tail] = b;
  fifo_tail = (fifo_tail + 1) % FIFO_SIZE;
}

// Dequeue 1 byte in the fifo.
// The caller should check that the fifo is not empty
byte fifo_dequeue() {
  if (!fifo_empty()) {
    byte result = fifo[fifo_head];
    fifo_head = (fifo_head + 1) % FIFO_SIZE;
    return result;
  }
  return 0;
}

/*
void _fifo_enqueue_ptr(void * ptr) {
  int i;
  ptr_union_t proxy;
  proxy.pointer = ptr;
  for (i = 0; i<PTR_MAX_SIZE; i++) _fifo_enqueue(proxy.buffer[i]);
}

void * _fifo_dequeue_ptr() {
  int i;
  ptr_union_t proxy;
  for (i = 0; i<PTR_MAX_SIZE; i++) proxy.buffer[i] = _fifo_dequeue();
  return proxy.pointer;
}
*/
//Declaration of instance variables
struct AnalogInputArduino_Instance ArduinoNode_temp_sensor_io_analog_input_var;
struct SensorsDisplay_Instance ArduinoNode_app_var;
struct MessageDeserializer_Instance ArduinoNode_deserializer_var;
struct TimerArduino_Instance ArduinoNode_light_sensor_io_timer_var;
struct SerialArduino_Instance network_var;
struct OnChangeDigitalInput_Instance ArduinoNode_button_io_change_digital_input_var;
struct TimerArduino_Instance ArduinoNode_temp_sensor_io_timer_var;
struct MessageSerializer_Instance ArduinoNode_serializer_var;
struct ArduinoArduino_Instance ArduinoNode_temp_sensor_io_arduino_var;
struct DigitalInputArduino_Instance ArduinoNode_button_io_digital_input_var;
struct LightSensor_Instance ArduinoNode_light_sensor_light_sensor_var;
struct OnChangeAnalogInput_Instance ArduinoNode_temp_sensor_io_change_analog_input_var;
struct AnalogInputArduino_Instance ArduinoNode_light_sensor_io_analog_input_var;
struct ArduinoArduino_Instance ArduinoNode_button_io_arduino_var;
struct ArduinoArduino_Instance ArduinoNode_led_io_arduino_var;
struct Button_Instance ArduinoNode_button_button_var;
struct DigitalOutputArduino_Instance ArduinoNode_led_io_digital_output_var;
struct TemperatureSensor_Instance ArduinoNode_temp_sensor_temperature_sensor_var;
struct ArduinoArduino_Instance ArduinoNode_light_sensor_io_arduino_var;
struct LcdScreen_Instance screen_var;
struct OnChangeAnalogInput_Instance ArduinoNode_light_sensor_io_change_analog_input_var;
struct LedUC_Instance ArduinoNode_led_led_var;

// Enqueue of messages AnalogInputArduino::AnalogIO::analog_read
void enqueue_AnalogInputArduino_send_AnalogIO_analog_read(struct AnalogInputArduino_Instance *_instance, uint8_t pin){
if ( fifo_byte_available() > 5 ) {

_fifo_enqueue( (1 >> 8) & 0xFF );
_fifo_enqueue( 1 & 0xFF );

// ID of the source instance
_fifo_enqueue( (_instance->id >> 8) & 0xFF );
_fifo_enqueue( _instance->id & 0xFF );

// parameter pin
_fifo_enqueue(pin & 0xFF);
}
}
// Enqueue of messages AnalogInputArduino::AnalogInput::analog_input_value
void enqueue_AnalogInputArduino_send_AnalogInput_analog_input_value(struct AnalogInputArduino_Instance *_instance, int16_t value){
if ( fifo_byte_available() > 6 ) {

_fifo_enqueue( (2 >> 8) & 0xFF );
_fifo_enqueue( 2 & 0xFF );

// ID of the source instance
_fifo_enqueue( (_instance->id >> 8) & 0xFF );
_fifo_enqueue( _instance->id & 0xFF );

// parameter value
_fifo_enqueue((value>>8) & 0xFF);
_fifo_enqueue(value & 0xFF);
}
}
// Enqueue of messages SensorsDisplay::TemperatureSensor::read_temperature
void enqueue_SensorsDisplay_send_TemperatureSensor_read_temperature(struct SensorsDisplay_Instance *_instance){
if ( fifo_byte_available() > 4 ) {

_fifo_enqueue( (3 >> 8) & 0xFF );
_fifo_enqueue( 3 & 0xFF );

// ID of the source instance
_fifo_enqueue( (_instance->id >> 8) & 0xFF );
_fifo_enqueue( _instance->id & 0xFF );
}
}
// Enqueue of messages SensorsDisplay::LightSensor::read_light
void enqueue_SensorsDisplay_send_LightSensor_read_light(struct SensorsDisplay_Instance *_instance){
if ( fifo_byte_available() > 4 ) {

_fifo_enqueue( (4 >> 8) & 0xFF );
_fifo_enqueue( 4 & 0xFF );

// ID of the source instance
_fifo_enqueue( (_instance->id >> 8) & 0xFF );
_fifo_enqueue( _instance->id & 0xFF );
}
}
// Enqueue of messages MessageDeserializer::RemoteControl::changeDisplay
void enqueue_MessageDeserializer_send_RemoteControl_changeDisplay(struct MessageDeserializer_Instance *_instance){
if ( fifo_byte_available() > 4 ) {

_fifo_enqueue( (5 >> 8) & 0xFF );
_fifo_enqueue( 5 & 0xFF );

// ID of the source instance
_fifo_enqueue( (_instance->id >> 8) & 0xFF );
_fifo_enqueue( _instance->id & 0xFF );
}
}
// Enqueue of messages TimerArduino::timer::timer_timeout
void enqueue_TimerArduino_send_timer_timer_timeout(struct TimerArduino_Instance *_instance){
if ( fifo_byte_available() > 4 ) {

_fifo_enqueue( (6 >> 8) & 0xFF );
_fifo_enqueue( 6 & 0xFF );

// ID of the source instance
_fifo_enqueue( (_instance->id >> 8) & 0xFF );
_fifo_enqueue( _instance->id & 0xFF );
}
}
// Enqueue of messages SerialArduino::serial::serial_rx
void enqueue_SerialArduino_send_serial_serial_rx(struct SerialArduino_Instance *_instance, uint8_t b){
if ( fifo_byte_available() > 5 ) {

_fifo_enqueue( (7 >> 8) & 0xFF );
_fifo_enqueue( 7 & 0xFF );

// ID of the source instance
_fifo_enqueue( (_instance->id >> 8) & 0xFF );
_fifo_enqueue( _instance->id & 0xFF );

// parameter b
_fifo_enqueue(b & 0xFF);
}
}
// Enqueue of messages OnChangeDigitalInput::OnChangeDigitalInput::digital_input_value
void enqueue_OnChangeDigitalInput_send_OnChangeDigitalInput_digital_input_value(struct OnChangeDigitalInput_Instance *_instance, uint8_t value){
if ( fifo_byte_available() > 5 ) {

_fifo_enqueue( (8 >> 8) & 0xFF );
_fifo_enqueue( 8 & 0xFF );

// ID of the source instance
_fifo_enqueue( (_instance->id >> 8) & 0xFF );
_fifo_enqueue( _instance->id & 0xFF );

// parameter value
_fifo_enqueue(value & 0xFF);
}
}
// Enqueue of messages OnChangeDigitalInput::DigitalInput::read_digital_input
void enqueue_OnChangeDigitalInput_send_DigitalInput_read_digital_input(struct OnChangeDigitalInput_Instance *_instance){
if ( fifo_byte_available() > 4 ) {

_fifo_enqueue( (9 >> 8) & 0xFF );
_fifo_enqueue( 9 & 0xFF );

// ID of the source instance
_fifo_enqueue( (_instance->id >> 8) & 0xFF );
_fifo_enqueue( _instance->id & 0xFF );
}
}
// Enqueue of messages MessageSerializer::serial::serial_tx
void enqueue_MessageSerializer_send_serial_serial_tx(struct MessageSerializer_Instance *_instance, uint8_t b){
if ( fifo_byte_available() > 5 ) {

_fifo_enqueue( (10 >> 8) & 0xFF );
_fifo_enqueue( 10 & 0xFF );

// ID of the source instance
_fifo_enqueue( (_instance->id >> 8) & 0xFF );
_fifo_enqueue( _instance->id & 0xFF );

// parameter b
_fifo_enqueue(b & 0xFF);
}
}
// Enqueue of messages ArduinoArduino::DigitalIO::digital_read_result
void enqueue_ArduinoArduino_send_DigitalIO_digital_read_result(struct ArduinoArduino_Instance *_instance, uint8_t pin, uint8_t value){
if ( fifo_byte_available() > 6 ) {

_fifo_enqueue( (11 >> 8) & 0xFF );
_fifo_enqueue( 11 & 0xFF );

// ID of the source instance
_fifo_enqueue( (_instance->id >> 8) & 0xFF );
_fifo_enqueue( _instance->id & 0xFF );

// parameter pin
_fifo_enqueue(pin & 0xFF);

// parameter value
_fifo_enqueue(value & 0xFF);
}
}
// Enqueue of messages ArduinoArduino::AnalogIO::analog_read_result
void enqueue_ArduinoArduino_send_AnalogIO_analog_read_result(struct ArduinoArduino_Instance *_instance, uint8_t pin, int16_t value){
if ( fifo_byte_available() > 7 ) {

_fifo_enqueue( (12 >> 8) & 0xFF );
_fifo_enqueue( 12 & 0xFF );

// ID of the source instance
_fifo_enqueue( (_instance->id >> 8) & 0xFF );
_fifo_enqueue( _instance->id & 0xFF );

// parameter pin
_fifo_enqueue(pin & 0xFF);

// parameter value
_fifo_enqueue((value>>8) & 0xFF);
_fifo_enqueue(value & 0xFF);
}
}
// Enqueue of messages DigitalInputArduino::DigitalIO::digital_read
void enqueue_DigitalInputArduino_send_DigitalIO_digital_read(struct DigitalInputArduino_Instance *_instance, uint8_t pin){
if ( fifo_byte_available() > 5 ) {

_fifo_enqueue( (13 >> 8) & 0xFF );
_fifo_enqueue( 13 & 0xFF );

// ID of the source instance
_fifo_enqueue( (_instance->id >> 8) & 0xFF );
_fifo_enqueue( _instance->id & 0xFF );

// parameter pin
_fifo_enqueue(pin & 0xFF);
}
}
// Enqueue of messages DigitalInputArduino::DigitalIO::pin_mode
void enqueue_DigitalInputArduino_send_DigitalIO_pin_mode(struct DigitalInputArduino_Instance *_instance, uint8_t pin, uint8_t mode){
if ( fifo_byte_available() > 6 ) {

_fifo_enqueue( (14 >> 8) & 0xFF );
_fifo_enqueue( 14 & 0xFF );

// ID of the source instance
_fifo_enqueue( (_instance->id >> 8) & 0xFF );
_fifo_enqueue( _instance->id & 0xFF );

// parameter pin
_fifo_enqueue(pin & 0xFF);

// parameter mode
_fifo_enqueue(mode & 0xFF);
}
}
// Enqueue of messages DigitalInputArduino::DigitalIO::digital_write
void enqueue_DigitalInputArduino_send_DigitalIO_digital_write(struct DigitalInputArduino_Instance *_instance, uint8_t pin, uint8_t value){
if ( fifo_byte_available() > 6 ) {

_fifo_enqueue( (15 >> 8) & 0xFF );
_fifo_enqueue( 15 & 0xFF );

// ID of the source instance
_fifo_enqueue( (_instance->id >> 8) & 0xFF );
_fifo_enqueue( _instance->id & 0xFF );

// parameter pin
_fifo_enqueue(pin & 0xFF);

// parameter value
_fifo_enqueue(value & 0xFF);
}
}
// Enqueue of messages DigitalInputArduino::DigitalInput::digital_input_value
void enqueue_DigitalInputArduino_send_DigitalInput_digital_input_value(struct DigitalInputArduino_Instance *_instance, uint8_t value){
if ( fifo_byte_available() > 5 ) {

_fifo_enqueue( (16 >> 8) & 0xFF );
_fifo_enqueue( 16 & 0xFF );

// ID of the source instance
_fifo_enqueue( (_instance->id >> 8) & 0xFF );
_fifo_enqueue( _instance->id & 0xFF );

// parameter value
_fifo_enqueue(value & 0xFF);
}
}
// Enqueue of messages LightSensor::LightSensor::light_value
void enqueue_LightSensor_send_LightSensor_light_value(struct LightSensor_Instance *_instance, uint16_t val){
if ( fifo_byte_available() > 6 ) {

_fifo_enqueue( (17 >> 8) & 0xFF );
_fifo_enqueue( 17 & 0xFF );

// ID of the source instance
_fifo_enqueue( (_instance->id >> 8) & 0xFF );
_fifo_enqueue( _instance->id & 0xFF );

// parameter val
_fifo_enqueue((val>>8) & 0xFF);
_fifo_enqueue(val & 0xFF);
}
}
// Enqueue of messages LightSensor::AnalogInput::read_analog_input
void enqueue_LightSensor_send_AnalogInput_read_analog_input(struct LightSensor_Instance *_instance){
if ( fifo_byte_available() > 4 ) {

_fifo_enqueue( (18 >> 8) & 0xFF );
_fifo_enqueue( 18 & 0xFF );

// ID of the source instance
_fifo_enqueue( (_instance->id >> 8) & 0xFF );
_fifo_enqueue( _instance->id & 0xFF );
}
}
// Enqueue of messages OnChangeAnalogInput::Timer::timer_start
void enqueue_OnChangeAnalogInput_send_Timer_timer_start(struct OnChangeAnalogInput_Instance *_instance, int delay){
if ( fifo_byte_available() > 6 ) {

_fifo_enqueue( (19 >> 8) & 0xFF );
_fifo_enqueue( 19 & 0xFF );

// ID of the source instance
_fifo_enqueue( (_instance->id >> 8) & 0xFF );
_fifo_enqueue( _instance->id & 0xFF );

// parameter delay
_fifo_enqueue((delay>>8) & 0xFF);
_fifo_enqueue(delay & 0xFF);
}
}
// Enqueue of messages OnChangeAnalogInput::AnalogInput::read_analog_input
void enqueue_OnChangeAnalogInput_send_AnalogInput_read_analog_input(struct OnChangeAnalogInput_Instance *_instance){
if ( fifo_byte_available() > 4 ) {

_fifo_enqueue( (20 >> 8) & 0xFF );
_fifo_enqueue( 20 & 0xFF );

// ID of the source instance
_fifo_enqueue( (_instance->id >> 8) & 0xFF );
_fifo_enqueue( _instance->id & 0xFF );
}
}
// Enqueue of messages Button::Button::release
void enqueue_Button_send_Button_release(struct Button_Instance *_instance){
if ( fifo_byte_available() > 4 ) {

_fifo_enqueue( (21 >> 8) & 0xFF );
_fifo_enqueue( 21 & 0xFF );

// ID of the source instance
_fifo_enqueue( (_instance->id >> 8) & 0xFF );
_fifo_enqueue( _instance->id & 0xFF );
}
}
// Enqueue of messages Button::Button::press
void enqueue_Button_send_Button_press(struct Button_Instance *_instance){
if ( fifo_byte_available() > 4 ) {

_fifo_enqueue( (22 >> 8) & 0xFF );
_fifo_enqueue( 22 & 0xFF );

// ID of the source instance
_fifo_enqueue( (_instance->id >> 8) & 0xFF );
_fifo_enqueue( _instance->id & 0xFF );
}
}
// Enqueue of messages DigitalOutputArduino::DigitalIO::pin_mode
void enqueue_DigitalOutputArduino_send_DigitalIO_pin_mode(struct DigitalOutputArduino_Instance *_instance, uint8_t pin, uint8_t mode){
if ( fifo_byte_available() > 6 ) {

_fifo_enqueue( (23 >> 8) & 0xFF );
_fifo_enqueue( 23 & 0xFF );

// ID of the source instance
_fifo_enqueue( (_instance->id >> 8) & 0xFF );
_fifo_enqueue( _instance->id & 0xFF );

// parameter pin
_fifo_enqueue(pin & 0xFF);

// parameter mode
_fifo_enqueue(mode & 0xFF);
}
}
// Enqueue of messages DigitalOutputArduino::DigitalIO::digital_write
void enqueue_DigitalOutputArduino_send_DigitalIO_digital_write(struct DigitalOutputArduino_Instance *_instance, uint8_t pin, uint8_t value){
if ( fifo_byte_available() > 6 ) {

_fifo_enqueue( (24 >> 8) & 0xFF );
_fifo_enqueue( 24 & 0xFF );

// ID of the source instance
_fifo_enqueue( (_instance->id >> 8) & 0xFF );
_fifo_enqueue( _instance->id & 0xFF );

// parameter pin
_fifo_enqueue(pin & 0xFF);

// parameter value
_fifo_enqueue(value & 0xFF);
}
}
// Enqueue of messages TemperatureSensor::TemperatureSensor::temperature_value
void enqueue_TemperatureSensor_send_TemperatureSensor_temperature_value(struct TemperatureSensor_Instance *_instance, int16_t val){
if ( fifo_byte_available() > 6 ) {

_fifo_enqueue( (25 >> 8) & 0xFF );
_fifo_enqueue( 25 & 0xFF );

// ID of the source instance
_fifo_enqueue( (_instance->id >> 8) & 0xFF );
_fifo_enqueue( _instance->id & 0xFF );

// parameter val
_fifo_enqueue((val>>8) & 0xFF);
_fifo_enqueue(val & 0xFF);
}
}
// Enqueue of messages TemperatureSensor::AnalogInput::read_analog_input
void enqueue_TemperatureSensor_send_AnalogInput_read_analog_input(struct TemperatureSensor_Instance *_instance){
if ( fifo_byte_available() > 4 ) {

_fifo_enqueue( (26 >> 8) & 0xFF );
_fifo_enqueue( 26 & 0xFF );

// ID of the source instance
_fifo_enqueue( (_instance->id >> 8) & 0xFF );
_fifo_enqueue( _instance->id & 0xFF );
}
}
// Enqueue of messages LedUC::DigitalOutput::set_digital_output
void enqueue_LedUC_send_DigitalOutput_set_digital_output(struct LedUC_Instance *_instance, uint8_t value){
if ( fifo_byte_available() > 5 ) {

_fifo_enqueue( (27 >> 8) & 0xFF );
_fifo_enqueue( 27 & 0xFF );

// ID of the source instance
_fifo_enqueue( (_instance->id >> 8) & 0xFF );
_fifo_enqueue( _instance->id & 0xFF );

// parameter value
_fifo_enqueue(value & 0xFF);
}
}

// Dispatch for messages AnalogInputArduino::AnalogIO::analog_read
void dispatch_AnalogInputArduino_send_AnalogIO_analog_read(struct AnalogInputArduino_Instance *_instance, uint8_t pin){
if (_instance == &ArduinoNode_temp_sensor_io_analog_input_var) {
ArduinoArduino_handle_AnalogIO_analog_read(&ArduinoNode_temp_sensor_io_arduino_var, pin);
}
if (_instance == &ArduinoNode_light_sensor_io_analog_input_var) {
ArduinoArduino_handle_AnalogIO_analog_read(&ArduinoNode_light_sensor_io_arduino_var, pin);
}
}
// Dispatch for messages AnalogInputArduino::AnalogInput::analog_input_value
void dispatch_AnalogInputArduino_send_AnalogInput_analog_input_value(struct AnalogInputArduino_Instance *_instance, int16_t value){
if (_instance == &ArduinoNode_temp_sensor_io_analog_input_var) {
TemperatureSensor_handle_AnalogInput_analog_input_value(&ArduinoNode_temp_sensor_temperature_sensor_var, value);
OnChangeAnalogInput_handle_AnalogInput_analog_input_value(&ArduinoNode_temp_sensor_io_change_analog_input_var, value);
}
if (_instance == &ArduinoNode_light_sensor_io_analog_input_var) {
LightSensor_handle_AnalogInput_analog_input_value(&ArduinoNode_light_sensor_light_sensor_var, value);
OnChangeAnalogInput_handle_AnalogInput_analog_input_value(&ArduinoNode_light_sensor_io_change_analog_input_var, value);
}
}
// Dispatch for messages SensorsDisplay::Display::setDisplay
void dispatch_SensorsDisplay_send_Display_setDisplay(struct SensorsDisplay_Instance *_instance, uint8_t id){
if (_instance == &ArduinoNode_app_var) {
LcdScreen_handle_Display_setDisplay(&screen_var, id);
}
}
// Dispatch for messages SensorsDisplay::Display::initDisplay
void dispatch_SensorsDisplay_send_Display_initDisplay(struct SensorsDisplay_Instance *_instance, uint8_t id, char * title, char * unit, int initValue, int minValue, int maxValue){
if (_instance == &ArduinoNode_app_var) {
LcdScreen_handle_Display_initDisplay(&screen_var, id, title, unit, initValue, minValue, maxValue);
}
}
// Dispatch for messages SensorsDisplay::Display::refreshDisplay
void dispatch_SensorsDisplay_send_Display_refreshDisplay(struct SensorsDisplay_Instance *_instance, uint8_t id, int value){
if (_instance == &ArduinoNode_app_var) {
LcdScreen_handle_Display_refreshDisplay(&screen_var, id, value);
}
}
// Dispatch for messages SensorsDisplay::RemoteControl::temperature
void dispatch_SensorsDisplay_send_RemoteControl_temperature(struct SensorsDisplay_Instance *_instance, uint16_t temp){
if (_instance == &ArduinoNode_app_var) {
MessageSerializer_handle_RemoteControl_temperature(&ArduinoNode_serializer_var, temp);
}
}
// Dispatch for messages SensorsDisplay::RemoteControl::light
void dispatch_SensorsDisplay_send_RemoteControl_light(struct SensorsDisplay_Instance *_instance, uint16_t light){
if (_instance == &ArduinoNode_app_var) {
MessageSerializer_handle_RemoteControl_light(&ArduinoNode_serializer_var, light);
}
}
// Dispatch for messages SensorsDisplay::TemperatureSensor::read_temperature
void dispatch_SensorsDisplay_send_TemperatureSensor_read_temperature(struct SensorsDisplay_Instance *_instance){
if (_instance == &ArduinoNode_app_var) {
TemperatureSensor_handle_TemperatureSensor_read_temperature(&ArduinoNode_temp_sensor_temperature_sensor_var);
}
}
// Dispatch for messages SensorsDisplay::LightSensor::read_light
void dispatch_SensorsDisplay_send_LightSensor_read_light(struct SensorsDisplay_Instance *_instance){
if (_instance == &ArduinoNode_app_var) {
LightSensor_handle_LightSensor_read_light(&ArduinoNode_light_sensor_light_sensor_var);
}
}
// Dispatch for messages SensorsDisplay::Led::led_on
void dispatch_SensorsDisplay_send_Led_led_on(struct SensorsDisplay_Instance *_instance){
if (_instance == &ArduinoNode_app_var) {
LedUC_handle_Led_led_on(&ArduinoNode_led_led_var);
}
}
// Dispatch for messages SensorsDisplay::Led::led_toggle
void dispatch_SensorsDisplay_send_Led_led_toggle(struct SensorsDisplay_Instance *_instance){
if (_instance == &ArduinoNode_app_var) {
LedUC_handle_Led_led_toggle(&ArduinoNode_led_led_var);
}
}
// Dispatch for messages SensorsDisplay::Led::led_off
void dispatch_SensorsDisplay_send_Led_led_off(struct SensorsDisplay_Instance *_instance){
if (_instance == &ArduinoNode_app_var) {
LedUC_handle_Led_led_off(&ArduinoNode_led_led_var);
}
}
// Dispatch for messages MessageDeserializer::RemoteControl::changeDisplay
void dispatch_MessageDeserializer_send_RemoteControl_changeDisplay(struct MessageDeserializer_Instance *_instance){
if (_instance == &ArduinoNode_deserializer_var) {
SensorsDisplay_handle_RemoteControl_changeDisplay(&ArduinoNode_app_var);
}
}
// Dispatch for messages TimerArduino::timer::timer_timeout
void dispatch_TimerArduino_send_timer_timer_timeout(struct TimerArduino_Instance *_instance){
if (_instance == &ArduinoNode_light_sensor_io_timer_var) {
OnChangeAnalogInput_handle_Timer_timer_timeout(&ArduinoNode_light_sensor_io_change_analog_input_var);
}
if (_instance == &ArduinoNode_temp_sensor_io_timer_var) {
OnChangeAnalogInput_handle_Timer_timer_timeout(&ArduinoNode_temp_sensor_io_change_analog_input_var);
}
}
// Dispatch for messages SerialArduino::serial::serial_rx
void dispatch_SerialArduino_send_serial_serial_rx(struct SerialArduino_Instance *_instance, uint8_t b){
if (_instance == &network_var) {
MessageDeserializer_handle_serial_serial_rx(&ArduinoNode_deserializer_var, b);
}
}
// Dispatch for messages OnChangeDigitalInput::OnChangeDigitalInput::digital_input_value
void dispatch_OnChangeDigitalInput_send_OnChangeDigitalInput_digital_input_value(struct OnChangeDigitalInput_Instance *_instance, uint8_t value){
if (_instance == &ArduinoNode_button_io_change_digital_input_var) {
Button_handle_DigitalInput_digital_input_value(&ArduinoNode_button_button_var, value);
}
}
// Dispatch for messages OnChangeDigitalInput::DigitalInput::read_digital_input
void dispatch_OnChangeDigitalInput_send_DigitalInput_read_digital_input(struct OnChangeDigitalInput_Instance *_instance){
if (_instance == &ArduinoNode_button_io_change_digital_input_var) {
DigitalInputArduino_handle_DigitalInput_read_digital_input(&ArduinoNode_button_io_digital_input_var);
}
}
// Dispatch for messages MessageSerializer::serial::serial_tx
void dispatch_MessageSerializer_send_serial_serial_tx(struct MessageSerializer_Instance *_instance, uint8_t b){
if (_instance == &ArduinoNode_serializer_var) {
SerialArduino_handle_serial_serial_tx(&network_var, b);
}
}
// Dispatch for messages ArduinoArduino::DigitalIO::digital_read_result
void dispatch_ArduinoArduino_send_DigitalIO_digital_read_result(struct ArduinoArduino_Instance *_instance, uint8_t pin, uint8_t value){
if (_instance == &ArduinoNode_button_io_arduino_var) {
DigitalInputArduino_handle_DigitalIO_digital_read_result(&ArduinoNode_button_io_digital_input_var, pin, value);
}
}
// Dispatch for messages ArduinoArduino::AnalogIO::analog_read_result
void dispatch_ArduinoArduino_send_AnalogIO_analog_read_result(struct ArduinoArduino_Instance *_instance, uint8_t pin, int16_t value){
if (_instance == &ArduinoNode_light_sensor_io_arduino_var) {
AnalogInputArduino_handle_AnalogIO_analog_read_result(&ArduinoNode_light_sensor_io_analog_input_var, pin, value);
}
if (_instance == &ArduinoNode_temp_sensor_io_arduino_var) {
AnalogInputArduino_handle_AnalogIO_analog_read_result(&ArduinoNode_temp_sensor_io_analog_input_var, pin, value);
}
}
// Dispatch for messages DigitalInputArduino::DigitalIO::digital_read
void dispatch_DigitalInputArduino_send_DigitalIO_digital_read(struct DigitalInputArduino_Instance *_instance, uint8_t pin){
if (_instance == &ArduinoNode_button_io_digital_input_var) {
ArduinoArduino_handle_DigitalIO_digital_read(&ArduinoNode_button_io_arduino_var, pin);
}
}
// Dispatch for messages DigitalInputArduino::DigitalIO::pin_mode
void dispatch_DigitalInputArduino_send_DigitalIO_pin_mode(struct DigitalInputArduino_Instance *_instance, uint8_t pin, uint8_t mode){
if (_instance == &ArduinoNode_button_io_digital_input_var) {
ArduinoArduino_handle_DigitalIO_pin_mode(&ArduinoNode_button_io_arduino_var, pin, mode);
}
}
// Dispatch for messages DigitalInputArduino::DigitalIO::digital_write
void dispatch_DigitalInputArduino_send_DigitalIO_digital_write(struct DigitalInputArduino_Instance *_instance, uint8_t pin, uint8_t value){
if (_instance == &ArduinoNode_button_io_digital_input_var) {
ArduinoArduino_handle_DigitalIO_digital_write(&ArduinoNode_button_io_arduino_var, pin, value);
}
}
// Dispatch for messages DigitalInputArduino::DigitalInput::digital_input_value
void dispatch_DigitalInputArduino_send_DigitalInput_digital_input_value(struct DigitalInputArduino_Instance *_instance, uint8_t value){
if (_instance == &ArduinoNode_button_io_digital_input_var) {
OnChangeDigitalInput_handle_DigitalInput_digital_input_value(&ArduinoNode_button_io_change_digital_input_var, value);
}
}
// Dispatch for messages LightSensor::LightSensor::light_value
void dispatch_LightSensor_send_LightSensor_light_value(struct LightSensor_Instance *_instance, uint16_t val){
if (_instance == &ArduinoNode_light_sensor_light_sensor_var) {
SensorsDisplay_handle_LightSensor_light_value(&ArduinoNode_app_var, val);
}
}
// Dispatch for messages LightSensor::AnalogInput::read_analog_input
void dispatch_LightSensor_send_AnalogInput_read_analog_input(struct LightSensor_Instance *_instance){
if (_instance == &ArduinoNode_light_sensor_light_sensor_var) {
AnalogInputArduino_handle_AnalogInput_read_analog_input(&ArduinoNode_light_sensor_io_analog_input_var);
}
}
// Dispatch for messages OnChangeAnalogInput::Timer::timer_start
void dispatch_OnChangeAnalogInput_send_Timer_timer_start(struct OnChangeAnalogInput_Instance *_instance, int delay){
if (_instance == &ArduinoNode_light_sensor_io_change_analog_input_var) {
TimerArduino_handle_timer_timer_start(&ArduinoNode_light_sensor_io_timer_var, delay);
}
if (_instance == &ArduinoNode_temp_sensor_io_change_analog_input_var) {
TimerArduino_handle_timer_timer_start(&ArduinoNode_temp_sensor_io_timer_var, delay);
}
}
// Dispatch for messages OnChangeAnalogInput::AnalogInput::read_analog_input
void dispatch_OnChangeAnalogInput_send_AnalogInput_read_analog_input(struct OnChangeAnalogInput_Instance *_instance){
if (_instance == &ArduinoNode_light_sensor_io_change_analog_input_var) {
AnalogInputArduino_handle_AnalogInput_read_analog_input(&ArduinoNode_light_sensor_io_analog_input_var);
}
if (_instance == &ArduinoNode_temp_sensor_io_change_analog_input_var) {
AnalogInputArduino_handle_AnalogInput_read_analog_input(&ArduinoNode_temp_sensor_io_analog_input_var);
}
}
// Dispatch for messages Button::Button::release
void dispatch_Button_send_Button_release(struct Button_Instance *_instance){
if (_instance == &ArduinoNode_button_button_var) {
}
}
// Dispatch for messages Button::Button::press
void dispatch_Button_send_Button_press(struct Button_Instance *_instance){
if (_instance == &ArduinoNode_button_button_var) {
SensorsDisplay_handle_Button_press(&ArduinoNode_app_var);
}
}
// Dispatch for messages DigitalOutputArduino::DigitalIO::pin_mode
void dispatch_DigitalOutputArduino_send_DigitalIO_pin_mode(struct DigitalOutputArduino_Instance *_instance, uint8_t pin, uint8_t mode){
if (_instance == &ArduinoNode_led_io_digital_output_var) {
ArduinoArduino_handle_DigitalIO_pin_mode(&ArduinoNode_led_io_arduino_var, pin, mode);
}
}
// Dispatch for messages DigitalOutputArduino::DigitalIO::digital_write
void dispatch_DigitalOutputArduino_send_DigitalIO_digital_write(struct DigitalOutputArduino_Instance *_instance, uint8_t pin, uint8_t value){
if (_instance == &ArduinoNode_led_io_digital_output_var) {
ArduinoArduino_handle_DigitalIO_digital_write(&ArduinoNode_led_io_arduino_var, pin, value);
}
}
// Dispatch for messages TemperatureSensor::TemperatureSensor::temperature_value
void dispatch_TemperatureSensor_send_TemperatureSensor_temperature_value(struct TemperatureSensor_Instance *_instance, int16_t val){
if (_instance == &ArduinoNode_temp_sensor_temperature_sensor_var) {
SensorsDisplay_handle_TemperatureSensor_temperature_value(&ArduinoNode_app_var, val);
}
}
// Dispatch for messages TemperatureSensor::AnalogInput::read_analog_input
void dispatch_TemperatureSensor_send_AnalogInput_read_analog_input(struct TemperatureSensor_Instance *_instance){
if (_instance == &ArduinoNode_temp_sensor_temperature_sensor_var) {
AnalogInputArduino_handle_AnalogInput_read_analog_input(&ArduinoNode_temp_sensor_io_analog_input_var);
}
}
// Dispatch for messages LedUC::DigitalOutput::set_digital_output
void dispatch_LedUC_send_DigitalOutput_set_digital_output(struct LedUC_Instance *_instance, uint8_t value){
if (_instance == &ArduinoNode_led_led_var) {
DigitalOutputArduino_handle_DigitalOutput_set_digital_output(&ArduinoNode_led_io_digital_output_var, value);
}
}

void processMessageQueue() {
if (fifo_empty()) return; // return if there is nothing to do

byte mbuf[5];
uint8_t mbufi = 0;

// Read the code of the next port/message in the queue
uint16_t code = fifo_dequeue() << 8;

code += fifo_dequeue();

// Switch to call the appropriate handler
switch(code) {
case 1:
while (mbufi < 3) mbuf[mbufi++] = fifo_dequeue();
dispatch_AnalogInputArduino_send_AnalogIO_analog_read((struct AnalogInputArduino_Instance*)instance_by_id((mbuf[0] << 8) + mbuf[1]) /* instance */,
mbuf[2] /* pin */ );
break;
case 2:
while (mbufi < 4) mbuf[mbufi++] = fifo_dequeue();
dispatch_AnalogInputArduino_send_AnalogInput_analog_input_value((struct AnalogInputArduino_Instance*)instance_by_id((mbuf[0] << 8) + mbuf[1]) /* instance */,
(mbuf[2]<<8) + mbuf[3] /* value */ );
break;
case 3:
while (mbufi < 2) mbuf[mbufi++] = fifo_dequeue();
dispatch_SensorsDisplay_send_TemperatureSensor_read_temperature((struct SensorsDisplay_Instance*)instance_by_id((mbuf[0] << 8) + mbuf[1]) /* instance */);
break;
case 4:
while (mbufi < 2) mbuf[mbufi++] = fifo_dequeue();
dispatch_SensorsDisplay_send_LightSensor_read_light((struct SensorsDisplay_Instance*)instance_by_id((mbuf[0] << 8) + mbuf[1]) /* instance */);
break;
case 5:
while (mbufi < 2) mbuf[mbufi++] = fifo_dequeue();
dispatch_MessageDeserializer_send_RemoteControl_changeDisplay((struct MessageDeserializer_Instance*)instance_by_id((mbuf[0] << 8) + mbuf[1]) /* instance */);
break;
case 6:
while (mbufi < 2) mbuf[mbufi++] = fifo_dequeue();
dispatch_TimerArduino_send_timer_timer_timeout((struct TimerArduino_Instance*)instance_by_id((mbuf[0] << 8) + mbuf[1]) /* instance */);
break;
case 7:
while (mbufi < 3) mbuf[mbufi++] = fifo_dequeue();
dispatch_SerialArduino_send_serial_serial_rx((struct SerialArduino_Instance*)instance_by_id((mbuf[0] << 8) + mbuf[1]) /* instance */,
mbuf[2] /* b */ );
break;
case 8:
while (mbufi < 3) mbuf[mbufi++] = fifo_dequeue();
dispatch_OnChangeDigitalInput_send_OnChangeDigitalInput_digital_input_value((struct OnChangeDigitalInput_Instance*)instance_by_id((mbuf[0] << 8) + mbuf[1]) /* instance */,
mbuf[2] /* value */ );
break;
case 9:
while (mbufi < 2) mbuf[mbufi++] = fifo_dequeue();
dispatch_OnChangeDigitalInput_send_DigitalInput_read_digital_input((struct OnChangeDigitalInput_Instance*)instance_by_id((mbuf[0] << 8) + mbuf[1]) /* instance */);
break;
case 10:
while (mbufi < 3) mbuf[mbufi++] = fifo_dequeue();
dispatch_MessageSerializer_send_serial_serial_tx((struct MessageSerializer_Instance*)instance_by_id((mbuf[0] << 8) + mbuf[1]) /* instance */,
mbuf[2] /* b */ );
break;
case 11:
while (mbufi < 4) mbuf[mbufi++] = fifo_dequeue();
dispatch_ArduinoArduino_send_DigitalIO_digital_read_result((struct ArduinoArduino_Instance*)instance_by_id((mbuf[0] << 8) + mbuf[1]) /* instance */,
mbuf[2] /* pin */ ,
mbuf[3] /* value */ );
break;
case 12:
while (mbufi < 5) mbuf[mbufi++] = fifo_dequeue();
dispatch_ArduinoArduino_send_AnalogIO_analog_read_result((struct ArduinoArduino_Instance*)instance_by_id((mbuf[0] << 8) + mbuf[1]) /* instance */,
mbuf[2] /* pin */ ,
(mbuf[3]<<8) + mbuf[4] /* value */ );
break;
case 13:
while (mbufi < 3) mbuf[mbufi++] = fifo_dequeue();
dispatch_DigitalInputArduino_send_DigitalIO_digital_read((struct DigitalInputArduino_Instance*)instance_by_id((mbuf[0] << 8) + mbuf[1]) /* instance */,
mbuf[2] /* pin */ );
break;
case 14:
while (mbufi < 4) mbuf[mbufi++] = fifo_dequeue();
dispatch_DigitalInputArduino_send_DigitalIO_pin_mode((struct DigitalInputArduino_Instance*)instance_by_id((mbuf[0] << 8) + mbuf[1]) /* instance */,
mbuf[2] /* pin */ ,
mbuf[3] /* mode */ );
break;
case 15:
while (mbufi < 4) mbuf[mbufi++] = fifo_dequeue();
dispatch_DigitalInputArduino_send_DigitalIO_digital_write((struct DigitalInputArduino_Instance*)instance_by_id((mbuf[0] << 8) + mbuf[1]) /* instance */,
mbuf[2] /* pin */ ,
mbuf[3] /* value */ );
break;
case 16:
while (mbufi < 3) mbuf[mbufi++] = fifo_dequeue();
dispatch_DigitalInputArduino_send_DigitalInput_digital_input_value((struct DigitalInputArduino_Instance*)instance_by_id((mbuf[0] << 8) + mbuf[1]) /* instance */,
mbuf[2] /* value */ );
break;
case 17:
while (mbufi < 4) mbuf[mbufi++] = fifo_dequeue();
dispatch_LightSensor_send_LightSensor_light_value((struct LightSensor_Instance*)instance_by_id((mbuf[0] << 8) + mbuf[1]) /* instance */,
(mbuf[2]<<8) + mbuf[3] /* val */ );
break;
case 18:
while (mbufi < 2) mbuf[mbufi++] = fifo_dequeue();
dispatch_LightSensor_send_AnalogInput_read_analog_input((struct LightSensor_Instance*)instance_by_id((mbuf[0] << 8) + mbuf[1]) /* instance */);
break;
case 19:
while (mbufi < 4) mbuf[mbufi++] = fifo_dequeue();
dispatch_OnChangeAnalogInput_send_Timer_timer_start((struct OnChangeAnalogInput_Instance*)instance_by_id((mbuf[0] << 8) + mbuf[1]) /* instance */,
(mbuf[2]<<8) + mbuf[3] /* delay */ );
break;
case 20:
while (mbufi < 2) mbuf[mbufi++] = fifo_dequeue();
dispatch_OnChangeAnalogInput_send_AnalogInput_read_analog_input((struct OnChangeAnalogInput_Instance*)instance_by_id((mbuf[0] << 8) + mbuf[1]) /* instance */);
break;
case 21:
while (mbufi < 2) mbuf[mbufi++] = fifo_dequeue();
dispatch_Button_send_Button_release((struct Button_Instance*)instance_by_id((mbuf[0] << 8) + mbuf[1]) /* instance */);
break;
case 22:
while (mbufi < 2) mbuf[mbufi++] = fifo_dequeue();
dispatch_Button_send_Button_press((struct Button_Instance*)instance_by_id((mbuf[0] << 8) + mbuf[1]) /* instance */);
break;
case 23:
while (mbufi < 4) mbuf[mbufi++] = fifo_dequeue();
dispatch_DigitalOutputArduino_send_DigitalIO_pin_mode((struct DigitalOutputArduino_Instance*)instance_by_id((mbuf[0] << 8) + mbuf[1]) /* instance */,
mbuf[2] /* pin */ ,
mbuf[3] /* mode */ );
break;
case 24:
while (mbufi < 4) mbuf[mbufi++] = fifo_dequeue();
dispatch_DigitalOutputArduino_send_DigitalIO_digital_write((struct DigitalOutputArduino_Instance*)instance_by_id((mbuf[0] << 8) + mbuf[1]) /* instance */,
mbuf[2] /* pin */ ,
mbuf[3] /* value */ );
break;
case 25:
while (mbufi < 4) mbuf[mbufi++] = fifo_dequeue();
dispatch_TemperatureSensor_send_TemperatureSensor_temperature_value((struct TemperatureSensor_Instance*)instance_by_id((mbuf[0] << 8) + mbuf[1]) /* instance */,
(mbuf[2]<<8) + mbuf[3] /* val */ );
break;
case 26:
while (mbufi < 2) mbuf[mbufi++] = fifo_dequeue();
dispatch_TemperatureSensor_send_AnalogInput_read_analog_input((struct TemperatureSensor_Instance*)instance_by_id((mbuf[0] << 8) + mbuf[1]) /* instance */);
break;
case 27:
while (mbufi < 3) mbuf[mbufi++] = fifo_dequeue();
dispatch_LedUC_send_DigitalOutput_set_digital_output((struct LedUC_Instance*)instance_by_id((mbuf[0] << 8) + mbuf[1]) /* instance */,
mbuf[2] /* value */ );
break;
}
}

void initialize_configuration_ArduinoNode() {
// Initialize connectors
register_AnalogInputArduino_send_AnalogIO_analog_read_listener(enqueue_AnalogInputArduino_send_AnalogIO_analog_read);
register_AnalogInputArduino_send_AnalogInput_analog_input_value_listener(enqueue_AnalogInputArduino_send_AnalogInput_analog_input_value);
register_SensorsDisplay_send_Display_initDisplay_listener(dispatch_SensorsDisplay_send_Display_initDisplay);
register_SensorsDisplay_send_Display_refreshDisplay_listener(dispatch_SensorsDisplay_send_Display_refreshDisplay);
register_SensorsDisplay_send_Display_setDisplay_listener(dispatch_SensorsDisplay_send_Display_setDisplay);
register_SensorsDisplay_send_RemoteControl_temperature_listener(dispatch_SensorsDisplay_send_RemoteControl_temperature);
register_SensorsDisplay_send_RemoteControl_light_listener(dispatch_SensorsDisplay_send_RemoteControl_light);
register_SensorsDisplay_send_TemperatureSensor_read_temperature_listener(enqueue_SensorsDisplay_send_TemperatureSensor_read_temperature);
register_SensorsDisplay_send_LightSensor_read_light_listener(enqueue_SensorsDisplay_send_LightSensor_read_light);
register_SensorsDisplay_send_Led_led_on_listener(dispatch_SensorsDisplay_send_Led_led_on);
register_SensorsDisplay_send_Led_led_off_listener(dispatch_SensorsDisplay_send_Led_led_off);
register_SensorsDisplay_send_Led_led_toggle_listener(dispatch_SensorsDisplay_send_Led_led_toggle);
register_MessageDeserializer_send_RemoteControl_changeDisplay_listener(enqueue_MessageDeserializer_send_RemoteControl_changeDisplay);
register_TimerArduino_send_timer_timer_timeout_listener(enqueue_TimerArduino_send_timer_timer_timeout);
register_SerialArduino_send_serial_serial_rx_listener(enqueue_SerialArduino_send_serial_serial_rx);
register_OnChangeDigitalInput_send_OnChangeDigitalInput_digital_input_value_listener(enqueue_OnChangeDigitalInput_send_OnChangeDigitalInput_digital_input_value);
register_OnChangeDigitalInput_send_DigitalInput_read_digital_input_listener(enqueue_OnChangeDigitalInput_send_DigitalInput_read_digital_input);
register_MessageSerializer_send_serial_serial_tx_listener(enqueue_MessageSerializer_send_serial_serial_tx);
register_ArduinoArduino_send_DigitalIO_digital_read_result_listener(enqueue_ArduinoArduino_send_DigitalIO_digital_read_result);
register_ArduinoArduino_send_AnalogIO_analog_read_result_listener(enqueue_ArduinoArduino_send_AnalogIO_analog_read_result);
register_DigitalInputArduino_send_DigitalIO_pin_mode_listener(enqueue_DigitalInputArduino_send_DigitalIO_pin_mode);
register_DigitalInputArduino_send_DigitalIO_digital_read_listener(enqueue_DigitalInputArduino_send_DigitalIO_digital_read);
register_DigitalInputArduino_send_DigitalIO_digital_write_listener(enqueue_DigitalInputArduino_send_DigitalIO_digital_write);
register_DigitalInputArduino_send_DigitalInput_digital_input_value_listener(enqueue_DigitalInputArduino_send_DigitalInput_digital_input_value);
register_LightSensor_send_LightSensor_light_value_listener(enqueue_LightSensor_send_LightSensor_light_value);
register_LightSensor_send_AnalogInput_read_analog_input_listener(enqueue_LightSensor_send_AnalogInput_read_analog_input);
register_OnChangeAnalogInput_send_Timer_timer_start_listener(enqueue_OnChangeAnalogInput_send_Timer_timer_start);
register_OnChangeAnalogInput_send_AnalogInput_read_analog_input_listener(enqueue_OnChangeAnalogInput_send_AnalogInput_read_analog_input);
register_Button_send_Button_press_listener(enqueue_Button_send_Button_press);
register_Button_send_Button_release_listener(enqueue_Button_send_Button_release);
register_DigitalOutputArduino_send_DigitalIO_pin_mode_listener(enqueue_DigitalOutputArduino_send_DigitalIO_pin_mode);
register_DigitalOutputArduino_send_DigitalIO_digital_write_listener(enqueue_DigitalOutputArduino_send_DigitalIO_digital_write);
register_TemperatureSensor_send_TemperatureSensor_temperature_value_listener(enqueue_TemperatureSensor_send_TemperatureSensor_temperature_value);
register_TemperatureSensor_send_AnalogInput_read_analog_input_listener(enqueue_TemperatureSensor_send_AnalogInput_read_analog_input);
register_LedUC_send_DigitalOutput_set_digital_output_listener(enqueue_LedUC_send_DigitalOutput_set_digital_output);

// Init the ID, state variables and properties for instance ArduinoNode_temp_sensor_io_analog_input
ArduinoNode_temp_sensor_io_analog_input_var.id = add_instance( (void*) &ArduinoNode_temp_sensor_io_analog_input_var);
ArduinoNode_temp_sensor_io_analog_input_var.AnalogInputArduino_SimpleAnalogInputImp_State = ANALOGINPUTARDUINO_SIMPLEANALOGINPUTIMP_RUNNING_STATE;
ArduinoNode_temp_sensor_io_analog_input_var.AnalogInputArduino_pin_var = ANALOGPIN_A_3;

// Init the ID, state variables and properties for instance ArduinoNode_app
ArduinoNode_app_var.id = add_instance( (void*) &ArduinoNode_app_var);
ArduinoNode_app_var.SensorsDisplay_SensorsDisplayImpl_State = SENSORSDISPLAY_SENSORSDISPLAYIMPL_TEMP_STATE;
ArduinoNode_app_var.SensorsDisplay_tempDisplay_var = 0;
ArduinoNode_app_var.SensorsDisplay_lightDisplay_var = 2;
ArduinoNode_app_var.SensorsDisplay_period_var = 2000;

// Init the ID, state variables and properties for instance ArduinoNode_deserializer
ArduinoNode_deserializer_var.id = add_instance( (void*) &ArduinoNode_deserializer_var);
ArduinoNode_deserializer_var.MessageDeserializer_receive_State = MESSAGEDESERIALIZER_RECEIVE_IDLE_STATE;
ArduinoNode_deserializer_var.PacketManager_lengthInteger_var = 2;
ArduinoNode_deserializer_var.PacketManager_lengthString_var = 8;
ArduinoNode_deserializer_var.PacketManager_lengthUInt16_var = 2;
ArduinoNode_deserializer_var.PacketManager_MAX_PACKET_SIZE_var = 16;
ArduinoNode_deserializer_var.PacketManager_START_BYTE_var = 0x7F;
ArduinoNode_deserializer_var.PacketManager_STOP_BYTE_var = 0x7E;
ArduinoNode_deserializer_var.PacketManager_ESCAPE_BYTE_var = 0x7D;
ArduinoNode_deserializer_var.PacketManager_CODE_POSITION_var = 3;
ArduinoNode_deserializer_var.PacketManager_LENGTH_POSITION_var = 4;
ArduinoNode_deserializer_var.PacketManager_DATA_POSITION_var = 5;
ArduinoNode_deserializer_var.PacketManager_index_var = 0;

// Init the ID, state variables and properties for instance ArduinoNode_light_sensor_io_timer
ArduinoNode_light_sensor_io_timer_var.id = add_instance( (void*) &ArduinoNode_light_sensor_io_timer_var);
ArduinoNode_light_sensor_io_timer_var.TimerArduino_SoftTimer_State = TIMERARDUINO_SOFTTIMER_IDLE_STATE;
ArduinoNode_light_sensor_io_timer_var.TimerArduino_SoftTimer_target_var = 0;

// Init the ID, state variables and properties for instance network
network_var.id = add_instance( (void*) &network_var);
network_var.SerialArduino_SerialImpl_State = SERIALARDUINO_SERIALIMPL_RECEIVING_STATE;

// Init the ID, state variables and properties for instance ArduinoNode_button_io_change_digital_input
ArduinoNode_button_io_change_digital_input_var.id = add_instance( (void*) &ArduinoNode_button_io_change_digital_input_var);
ArduinoNode_button_io_change_digital_input_var.OnChangeDigitalInput_OnChangeDigitalInputImpl_State = ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_LOW_STATE;
ArduinoNode_button_io_change_digital_input_var.OnChangeDigitalInput_OnChangeDigitalInputImpl_Polling_State = ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_POLLING_POLL_STATE;

// Init the ID, state variables and properties for instance ArduinoNode_temp_sensor_io_timer
ArduinoNode_temp_sensor_io_timer_var.id = add_instance( (void*) &ArduinoNode_temp_sensor_io_timer_var);
ArduinoNode_temp_sensor_io_timer_var.TimerArduino_SoftTimer_State = TIMERARDUINO_SOFTTIMER_IDLE_STATE;
ArduinoNode_temp_sensor_io_timer_var.TimerArduino_SoftTimer_target_var = 0;

// Init the ID, state variables and properties for instance ArduinoNode_serializer
ArduinoNode_serializer_var.id = add_instance( (void*) &ArduinoNode_serializer_var);
ArduinoNode_serializer_var.MessageSerializer_SerializerBehavior_State = MESSAGESERIALIZER_SERIALIZERBEHAVIOR_SERIALIZE_STATE;
ArduinoNode_serializer_var.PacketManager_lengthInteger_var = 2;
ArduinoNode_serializer_var.PacketManager_lengthString_var = 8;
ArduinoNode_serializer_var.PacketManager_lengthUInt16_var = 2;
ArduinoNode_serializer_var.PacketManager_MAX_PACKET_SIZE_var = 16;
ArduinoNode_serializer_var.PacketManager_START_BYTE_var = 0x7F;
ArduinoNode_serializer_var.PacketManager_STOP_BYTE_var = 0x7E;
ArduinoNode_serializer_var.PacketManager_ESCAPE_BYTE_var = 0x7D;
ArduinoNode_serializer_var.PacketManager_CODE_POSITION_var = 3;
ArduinoNode_serializer_var.PacketManager_LENGTH_POSITION_var = 4;
ArduinoNode_serializer_var.PacketManager_DATA_POSITION_var = 5;
ArduinoNode_serializer_var.PacketManager_index_var = 0;

// Init the ID, state variables and properties for instance ArduinoNode_temp_sensor_io_arduino
ArduinoNode_temp_sensor_io_arduino_var.id = add_instance( (void*) &ArduinoNode_temp_sensor_io_arduino_var);
ArduinoNode_temp_sensor_io_arduino_var.ArduinoArduino_ArduinoArduino_State = ARDUINOARDUINO_ARDUINOARDUINO_RUNNINGARDUINO_STATE;

// Init the ID, state variables and properties for instance ArduinoNode_button_io_digital_input
ArduinoNode_button_io_digital_input_var.id = add_instance( (void*) &ArduinoNode_button_io_digital_input_var);
ArduinoNode_button_io_digital_input_var.DigitalInputArduino_SimpleDigitalInputImpl_State = DIGITALINPUTARDUINO_SIMPLEDIGITALINPUTIMPL_IDLE_STATE;
ArduinoNode_button_io_digital_input_var.DigitalInputArduino_pin_var = DIGITALPIN_PIN_8;
ArduinoNode_button_io_digital_input_var.DigitalInputArduino_pullup_var = 0;

// Init the ID, state variables and properties for instance ArduinoNode_light_sensor_light_sensor
ArduinoNode_light_sensor_light_sensor_var.id = add_instance( (void*) &ArduinoNode_light_sensor_light_sensor_var);
ArduinoNode_light_sensor_light_sensor_var.LightSensor_LightSensorImpl_State = LIGHTSENSOR_LIGHTSENSORIMPL_RUNNING_STATE;

// Init the ID, state variables and properties for instance ArduinoNode_temp_sensor_io_change_analog_input
ArduinoNode_temp_sensor_io_change_analog_input_var.id = add_instance( (void*) &ArduinoNode_temp_sensor_io_change_analog_input_var);
ArduinoNode_temp_sensor_io_change_analog_input_var.OnChangeAnalogInput_OnChangeAnalogInputImpl_State = ONCHANGEANALOGINPUT_ONCHANGEANALOGINPUTIMPL_RUNNING_STATE;
ArduinoNode_temp_sensor_io_change_analog_input_var.OnChangeAnalogInput_refresh_rate_var = 500;
ArduinoNode_temp_sensor_io_change_analog_input_var.OnChangeAnalogInput_OnChangeAnalogInputImpl_oldValue_var =  -1;

// Init the ID, state variables and properties for instance ArduinoNode_light_sensor_io_analog_input
ArduinoNode_light_sensor_io_analog_input_var.id = add_instance( (void*) &ArduinoNode_light_sensor_io_analog_input_var);
ArduinoNode_light_sensor_io_analog_input_var.AnalogInputArduino_SimpleAnalogInputImp_State = ANALOGINPUTARDUINO_SIMPLEANALOGINPUTIMP_RUNNING_STATE;
ArduinoNode_light_sensor_io_analog_input_var.AnalogInputArduino_pin_var = ANALOGPIN_A_1;

// Init the ID, state variables and properties for instance ArduinoNode_button_io_arduino
ArduinoNode_button_io_arduino_var.id = add_instance( (void*) &ArduinoNode_button_io_arduino_var);
ArduinoNode_button_io_arduino_var.ArduinoArduino_ArduinoArduino_State = ARDUINOARDUINO_ARDUINOARDUINO_RUNNINGARDUINO_STATE;

// Init the ID, state variables and properties for instance ArduinoNode_led_io_arduino
ArduinoNode_led_io_arduino_var.id = add_instance( (void*) &ArduinoNode_led_io_arduino_var);
ArduinoNode_led_io_arduino_var.ArduinoArduino_ArduinoArduino_State = ARDUINOARDUINO_ARDUINOARDUINO_RUNNINGARDUINO_STATE;

// Init the ID, state variables and properties for instance ArduinoNode_button_button
ArduinoNode_button_button_var.id = add_instance( (void*) &ArduinoNode_button_button_var);
ArduinoNode_button_button_var.Button_ButtonImpl_State = BUTTON_BUTTONIMPL_RUNNING_STATE;

// Init the ID, state variables and properties for instance ArduinoNode_led_io_digital_output
ArduinoNode_led_io_digital_output_var.id = add_instance( (void*) &ArduinoNode_led_io_digital_output_var);
ArduinoNode_led_io_digital_output_var.DigitalOutputArduino_DigitalOutpuImpl_State = DIGITALOUTPUTARDUINO_DIGITALOUTPUIMPL_RUNNING_STATE;
ArduinoNode_led_io_digital_output_var.DigitalOutputArduino_pin_var = DIGITALPIN_PIN_9;

// Init the ID, state variables and properties for instance ArduinoNode_temp_sensor_temperature_sensor
ArduinoNode_temp_sensor_temperature_sensor_var.id = add_instance( (void*) &ArduinoNode_temp_sensor_temperature_sensor_var);
ArduinoNode_temp_sensor_temperature_sensor_var.TemperatureSensor_TempSensorImpl_State = TEMPERATURESENSOR_TEMPSENSORIMPL_READ_STATE;
ArduinoNode_temp_sensor_temperature_sensor_var.TemperatureSensor_temp_var = 0;

// Init the ID, state variables and properties for instance ArduinoNode_light_sensor_io_arduino
ArduinoNode_light_sensor_io_arduino_var.id = add_instance( (void*) &ArduinoNode_light_sensor_io_arduino_var);
ArduinoNode_light_sensor_io_arduino_var.ArduinoArduino_ArduinoArduino_State = ARDUINOARDUINO_ARDUINOARDUINO_RUNNINGARDUINO_STATE;

// Init the ID, state variables and properties for instance screen
screen_var.id = add_instance( (void*) &screen_var);
screen_var.LcdScreen_LcdScreenImp_State = LCDSCREEN_LCDSCREENIMP_RUNNING_STATE;
screen_var.LcdScreen_maxDisplay_var = 1;
screen_var.LcdScreen_maxLengthTitle_var = 10;
screen_var.LcdScreen_maxLengthUnit_var = 5;
screen_var.LcdScreen_currentDisplay_var =  -1;

// Init the ID, state variables and properties for instance ArduinoNode_light_sensor_io_change_analog_input
ArduinoNode_light_sensor_io_change_analog_input_var.id = add_instance( (void*) &ArduinoNode_light_sensor_io_change_analog_input_var);
ArduinoNode_light_sensor_io_change_analog_input_var.OnChangeAnalogInput_OnChangeAnalogInputImpl_State = ONCHANGEANALOGINPUT_ONCHANGEANALOGINPUTIMPL_RUNNING_STATE;
ArduinoNode_light_sensor_io_change_analog_input_var.OnChangeAnalogInput_refresh_rate_var = 500;
ArduinoNode_light_sensor_io_change_analog_input_var.OnChangeAnalogInput_OnChangeAnalogInputImpl_oldValue_var =  -1;

// Init the ID, state variables and properties for instance ArduinoNode_led_led
ArduinoNode_led_led_var.id = add_instance( (void*) &ArduinoNode_led_led_var);
ArduinoNode_led_led_var.LedUC_LedImpl_State = LEDUC_LEDIMPL_LEDOFF_STATE;

AnalogInputArduino_SimpleAnalogInputImp_OnEntry(ANALOGINPUTARDUINO_SIMPLEANALOGINPUTIMP_STATE, &ArduinoNode_temp_sensor_io_analog_input_var);
SensorsDisplay_SensorsDisplayImpl_OnEntry(SENSORSDISPLAY_SENSORSDISPLAYIMPL_STATE, &ArduinoNode_app_var);
MessageDeserializer_receive_OnEntry(MESSAGEDESERIALIZER_RECEIVE_STATE, &ArduinoNode_deserializer_var);
TimerArduino_SoftTimer_OnEntry(TIMERARDUINO_SOFTTIMER_STATE, &ArduinoNode_light_sensor_io_timer_var);
SerialArduino_SerialImpl_OnEntry(SERIALARDUINO_SERIALIMPL_STATE, &network_var);
OnChangeDigitalInput_OnChangeDigitalInputImpl_OnEntry(ONCHANGEDIGITALINPUT_ONCHANGEDIGITALINPUTIMPL_STATE, &ArduinoNode_button_io_change_digital_input_var);
TimerArduino_SoftTimer_OnEntry(TIMERARDUINO_SOFTTIMER_STATE, &ArduinoNode_temp_sensor_io_timer_var);
MessageSerializer_SerializerBehavior_OnEntry(MESSAGESERIALIZER_SERIALIZERBEHAVIOR_STATE, &ArduinoNode_serializer_var);
ArduinoArduino_ArduinoArduino_OnEntry(ARDUINOARDUINO_ARDUINOARDUINO_STATE, &ArduinoNode_temp_sensor_io_arduino_var);
DigitalInputArduino_SimpleDigitalInputImpl_OnEntry(DIGITALINPUTARDUINO_SIMPLEDIGITALINPUTIMPL_STATE, &ArduinoNode_button_io_digital_input_var);
LightSensor_LightSensorImpl_OnEntry(LIGHTSENSOR_LIGHTSENSORIMPL_STATE, &ArduinoNode_light_sensor_light_sensor_var);
OnChangeAnalogInput_OnChangeAnalogInputImpl_OnEntry(ONCHANGEANALOGINPUT_ONCHANGEANALOGINPUTIMPL_STATE, &ArduinoNode_temp_sensor_io_change_analog_input_var);
AnalogInputArduino_SimpleAnalogInputImp_OnEntry(ANALOGINPUTARDUINO_SIMPLEANALOGINPUTIMP_STATE, &ArduinoNode_light_sensor_io_analog_input_var);
ArduinoArduino_ArduinoArduino_OnEntry(ARDUINOARDUINO_ARDUINOARDUINO_STATE, &ArduinoNode_button_io_arduino_var);
ArduinoArduino_ArduinoArduino_OnEntry(ARDUINOARDUINO_ARDUINOARDUINO_STATE, &ArduinoNode_led_io_arduino_var);
Button_ButtonImpl_OnEntry(BUTTON_BUTTONIMPL_STATE, &ArduinoNode_button_button_var);
DigitalOutputArduino_DigitalOutpuImpl_OnEntry(DIGITALOUTPUTARDUINO_DIGITALOUTPUIMPL_STATE, &ArduinoNode_led_io_digital_output_var);
TemperatureSensor_TempSensorImpl_OnEntry(TEMPERATURESENSOR_TEMPSENSORIMPL_STATE, &ArduinoNode_temp_sensor_temperature_sensor_var);
ArduinoArduino_ArduinoArduino_OnEntry(ARDUINOARDUINO_ARDUINOARDUINO_STATE, &ArduinoNode_light_sensor_io_arduino_var);
LcdScreen_LcdScreenImp_OnEntry(LCDSCREEN_LCDSCREENIMP_STATE, &screen_var);
OnChangeAnalogInput_OnChangeAnalogInputImpl_OnEntry(ONCHANGEANALOGINPUT_ONCHANGEANALOGINPUTIMPL_STATE, &ArduinoNode_light_sensor_io_change_analog_input_var);
LedUC_LedImpl_OnEntry(LEDUC_LEDIMPL_STATE, &ArduinoNode_led_led_var);
}

/*****************************************************************************
 * Main for configuration : ArduinoNode
 *****************************************************************************/

void setup() {
initialize_configuration_ArduinoNode();

}

void loop() {
TimerArduino_handle_Polling_poll(&ArduinoNode_light_sensor_io_timer_var);
SerialArduino_handle_Polling_poll(&network_var);
OnChangeDigitalInput_handle_Polling_poll(&ArduinoNode_button_io_change_digital_input_var);
TimerArduino_handle_Polling_poll(&ArduinoNode_temp_sensor_io_timer_var);

processMessageQueue();
}